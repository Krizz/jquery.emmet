var _=function(){function i(a,c,b){if(a===c)return 0!==a||1/a==1/c;if(null==a||null==c)return a===c;a._chain&&(a=a._wrapped);c._chain&&(c=c._wrapped);if(a.isEqual&&j.isFunction(a.isEqual))return a.isEqual(c);if(c.isEqual&&j.isFunction(c.isEqual))return c.isEqual(a);var d=f.call(a);if(d!=f.call(c))return!1;switch(d){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==
c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if("object"!=typeof a||"object"!=typeof c)return!1;for(var g=b.length;g--;)if(b[g]==a)return!0;b.push(a);var g=0,e=!0;if("[object Array]"==d){if(g=a.length,e=g==c.length)for(;g--&&(e=g in a==g in c&&i(a[g],c[g],b)););}else{if("constructor"in a!="constructor"in c||a.constructor!=c.constructor)return!1;for(var s in a)if(j.has(a,s)&&(g++,!(e=j.has(c,s)&&i(a[s],c[s],b))))break;if(e){for(s in c)if(j.has(c,s)&&!g--)break;
e=!g}}b.pop();return e}var d=this,h=d._,e={},a=Array.prototype,b=Object.prototype,c=a.slice,g=a.unshift,f=b.toString,k=b.hasOwnProperty,l=a.forEach,m=a.map,n=a.reduce,p=a.reduceRight,r=a.filter,w=a.every,q=a.some,v=a.indexOf,s=a.lastIndexOf,b=Array.isArray,A=Object.keys,B=Function.prototype.bind,j=function(a){return new C(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=j),exports._=j):d._=j;j.VERSION="1.3.3";var x=j.each=j.forEach=function(a,
c,b){if(null!=a)if(l&&a.forEach===l)a.forEach(c,b);else if(a.length===+a.length)for(var f=0,d=a.length;f<d&&!(f in a&&c.call(b,a[f],f,a)===e);f++);else for(f in a)if(j.has(a,f)&&c.call(b,a[f],f,a)===e)break};j.map=j.collect=function(a,c,b){var f=[];if(null==a)return f;if(m&&a.map===m)return a.map(c,b);x(a,function(a,d,g){f[f.length]=c.call(b,a,d,g)});a.length===+a.length&&(f.length=a.length);return f};j.reduce=j.foldl=j.inject=function(a,c,b,f){var d=2<arguments.length;null==a&&(a=[]);if(n&&a.reduce===
n)return f&&(c=j.bind(c,f)),d?a.reduce(c,b):a.reduce(c);x(a,function(a,g,e){d?b=c.call(f,b,a,g,e):(b=a,d=!0)});if(!d)throw new TypeError("Reduce of empty array with no initial value");return b};j.reduceRight=j.foldr=function(a,c,b,f){var d=2<arguments.length;null==a&&(a=[]);if(p&&a.reduceRight===p)return f&&(c=j.bind(c,f)),d?a.reduceRight(c,b):a.reduceRight(c);var g=j.toArray(a).reverse();f&&!d&&(c=j.bind(c,f));return d?j.reduce(g,c,b,f):j.reduce(g,c)};j.find=j.detect=function(a,c,b){var f;t(a,function(a,
d,g){if(c.call(b,a,d,g))return f=a,!0});return f};j.filter=j.select=function(a,c,b){var f=[];if(null==a)return f;if(r&&a.filter===r)return a.filter(c,b);x(a,function(a,d,g){c.call(b,a,d,g)&&(f[f.length]=a)});return f};j.reject=function(a,c,b){var f=[];if(null==a)return f;x(a,function(a,d,g){c.call(b,a,d,g)||(f[f.length]=a)});return f};j.every=j.all=function(a,c,b){var f=!0;if(null==a)return f;if(w&&a.every===w)return a.every(c,b);x(a,function(a,d,g){if(!(f=f&&c.call(b,a,d,g)))return e});return!!f};
var t=j.some=j.any=function(a,c,b){c||(c=j.identity);var f=!1;if(null==a)return f;if(q&&a.some===q)return a.some(c,b);x(a,function(a,d,g){if(f||(f=c.call(b,a,d,g)))return e});return!!f};j.include=j.contains=function(a,c){var b=!1;return null==a?b:v&&a.indexOf===v?-1!=a.indexOf(c):b=t(a,function(a){return a===c})};j.invoke=function(a,b){var f=c.call(arguments,2);return j.map(a,function(a){return(j.isFunction(b)?b||a:a[b]).apply(a,f)})};j.pluck=function(a,c){return j.map(a,function(a){return a[c]})};
j.max=function(a,c,b){if(!c&&j.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!c&&j.isEmpty(a))return-Infinity;var f={computed:-Infinity};x(a,function(a,d,g){d=c?c.call(b,a,d,g):a;d>=f.computed&&(f={value:a,computed:d})});return f.value};j.min=function(a,c,b){if(!c&&j.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!c&&j.isEmpty(a))return Infinity;var f={computed:Infinity};x(a,function(a,d,g){d=c?c.call(b,a,d,g):a;d<f.computed&&(f={value:a,computed:d})});return f.value};j.shuffle=
function(a){var c=[],b;x(a,function(a,f){b=Math.floor(Math.random()*(f+1));c[f]=c[b];c[b]=a});return c};j.sortBy=function(a,c,b){var f=j.isFunction(c)?c:function(a){return a[c]};return j.pluck(j.map(a,function(a,c,d){return{value:a,criteria:f.call(b,a,c,d)}}).sort(function(a,c){var b=a.criteria,f=c.criteria;return void 0===b?1:void 0===f?-1:b<f?-1:b>f?1:0}),"value")};j.groupBy=function(a,c){var b={},f=j.isFunction(c)?c:function(a){return a[c]};x(a,function(a,c){var d=f(a,c);(b[d]||(b[d]=[])).push(a)});
return b};j.sortedIndex=function(a,c,b){b||(b=j.identity);for(var f=0,d=a.length;f<d;){var g=f+d>>1;b(a[g])<b(c)?f=g+1:d=g}return f};j.toArray=function(a){return!a?[]:j.isArray(a)||j.isArguments(a)?c.call(a):a.toArray&&j.isFunction(a.toArray)?a.toArray():j.values(a)};j.size=function(a){return j.isArray(a)?a.length:j.keys(a).length};j.first=j.head=j.take=function(a,b,f){return null!=b&&!f?c.call(a,0,b):a[0]};j.initial=function(a,b,f){return c.call(a,0,a.length-(null==b||f?1:b))};j.last=function(a,
b,f){return null!=b&&!f?c.call(a,Math.max(a.length-b,0)):a[a.length-1]};j.rest=j.tail=function(a,b,f){return c.call(a,null==b||f?1:b)};j.compact=function(a){return j.filter(a,function(a){return!!a})};j.flatten=function(a,c){return j.reduce(a,function(a,b){if(j.isArray(b))return a.concat(c?b:j.flatten(b));a[a.length]=b;return a},[])};j.without=function(a){return j.difference(a,c.call(arguments,1))};j.uniq=j.unique=function(a,c,b){var b=b?j.map(a,b):a,f=[];3>a.length&&(c=!0);j.reduce(b,function(b,d,
g){if(c?j.last(b)!==d||!b.length:!j.include(b,d))b.push(d),f.push(a[g]);return b},[]);return f};j.union=function(){return j.uniq(j.flatten(arguments,!0))};j.intersection=j.intersect=function(a){var b=c.call(arguments,1);return j.filter(j.uniq(a),function(a){return j.every(b,function(c){return 0<=j.indexOf(c,a)})})};j.difference=function(a){var b=j.flatten(c.call(arguments,1),!0);return j.filter(a,function(a){return!j.include(b,a)})};j.zip=function(){for(var a=c.call(arguments),b=j.max(j.pluck(a,"length")),
f=Array(b),d=0;d<b;d++)f[d]=j.pluck(a,""+d);return f};j.indexOf=function(a,c,b){if(null==a)return-1;var f;if(b)return b=j.sortedIndex(a,c),a[b]===c?b:-1;if(v&&a.indexOf===v)return a.indexOf(c);b=0;for(f=a.length;b<f;b++)if(b in a&&a[b]===c)return b;return-1};j.lastIndexOf=function(a,c){if(null==a)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(c);for(var b=a.length;b--;)if(b in a&&a[b]===c)return b;return-1};j.range=function(a,c,b){1>=arguments.length&&(c=a||0,a=0);for(var b=arguments[2]||1,
f=Math.max(Math.ceil((c-a)/b),0),d=0,g=Array(f);d<f;)g[d++]=a,a+=b;return g};var u=function(){};j.bind=function(a,b){var f,d;if(a.bind===B&&B)return B.apply(a,c.call(arguments,1));if(!j.isFunction(a))throw new TypeError;d=c.call(arguments,2);return f=function(){if(!(this instanceof f))return a.apply(b,d.concat(c.call(arguments)));u.prototype=a.prototype;var g=new u,e=a.apply(g,d.concat(c.call(arguments)));return Object(e)===e?e:g}};j.bindAll=function(a){var b=c.call(arguments,1);0==b.length&&(b=j.functions(a));
x(b,function(c){a[c]=j.bind(a[c],a)});return a};j.memoize=function(a,c){var b={};c||(c=j.identity);return function(){var f=c.apply(this,arguments);return j.has(b,f)?b[f]:b[f]=a.apply(this,arguments)}};j.delay=function(a,b){var f=c.call(arguments,2);return setTimeout(function(){return a.apply(null,f)},b)};j.defer=function(a){return j.delay.apply(j,[a,1].concat(c.call(arguments,1)))};j.throttle=function(a,c){var b,f,d,g,e,s,i=j.debounce(function(){e=g=!1},c);return function(){b=this;f=arguments;d||
(d=setTimeout(function(){d=null;e&&a.apply(b,f);i()},c));g?e=!0:s=a.apply(b,f);i();g=!0;return s}};j.debounce=function(a,c,b){var f;return function(){var d=this,g=arguments;b&&!f&&a.apply(d,g);clearTimeout(f);f=setTimeout(function(){f=null;b||a.apply(d,g)},c)}};j.once=function(a){var c=!1,b;return function(){if(c)return b;c=!0;return b=a.apply(this,arguments)}};j.wrap=function(a,b){return function(){var f=[a].concat(c.call(arguments,0));return b.apply(this,f)}};j.compose=function(){var a=arguments;
return function(){for(var c=arguments,b=a.length-1;0<=b;b--)c=[a[b].apply(this,c)];return c[0]}};j.after=function(a,c){return 0>=a?c():function(){if(1>--a)return c.apply(this,arguments)}};j.keys=A||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],b;for(b in a)j.has(a,b)&&(c[c.length]=b);return c};j.values=function(a){return j.map(a,j.identity)};j.functions=j.methods=function(a){var c=[],b;for(b in a)j.isFunction(a[b])&&c.push(b);return c.sort()};j.extend=function(a){x(c.call(arguments,
1),function(c){for(var b in c)a[b]=c[b]});return a};j.pick=function(a){var b={};x(j.flatten(c.call(arguments,1)),function(c){c in a&&(b[c]=a[c])});return b};j.defaults=function(a){x(c.call(arguments,1),function(c){for(var b in c)null==a[b]&&(a[b]=c[b])});return a};j.clone=function(a){return!j.isObject(a)?a:j.isArray(a)?a.slice():j.extend({},a)};j.tap=function(a,c){c(a);return a};j.isEqual=function(a,c){return i(a,c,[])};j.isEmpty=function(a){if(null==a)return!0;if(j.isArray(a)||j.isString(a))return 0===
a.length;for(var c in a)if(j.has(a,c))return!1;return!0};j.isElement=function(a){return!!(a&&1==a.nodeType)};j.isArray=b||function(a){return"[object Array]"==f.call(a)};j.isObject=function(a){return a===Object(a)};j.isArguments=function(a){return"[object Arguments]"==f.call(a)};j.isArguments(arguments)||(j.isArguments=function(a){return!(!a||!j.has(a,"callee"))});j.isFunction=function(a){return"[object Function]"==f.call(a)};j.isString=function(a){return"[object String]"==f.call(a)};j.isNumber=function(a){return"[object Number]"==
f.call(a)};j.isFinite=function(a){return j.isNumber(a)&&isFinite(a)};j.isNaN=function(a){return a!==a};j.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==f.call(a)};j.isDate=function(a){return"[object Date]"==f.call(a)};j.isRegExp=function(a){return"[object RegExp]"==f.call(a)};j.isNull=function(a){return null===a};j.isUndefined=function(a){return void 0===a};j.has=function(a,c){return k.call(a,c)};j.noConflict=function(){d._=h;return this};j.identity=function(a){return a};j.times=
function(a,c,b){for(var f=0;f<a;f++)c.call(b,f)};j.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};j.result=function(a,c){if(null==a)return null;var b=a[c];return j.isFunction(b)?b.call(a):b};j.mixin=function(a){x(j.functions(a),function(b){var f=j[b]=a[b];C.prototype[b]=function(){var a=c.call(arguments);g.call(a,this._wrapped);return H(f.apply(j,a),this._chain)}})};var y=0;j.uniqueId=
function(a){var c=y++;return a?a+c:c};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/.^/,z={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},F;for(F in z)z[z[F]]=F;var G=/\\|'|\r|\n|\t|\u2028|\u2029/g,D=/\\(\\|'|r|n|t|u2028|u2029)/g,I=function(a){return a.replace(D,function(a,c){return z[c]})};j.template=function(a,c,b){b=j.defaults(b||{},j.templateSettings);a="__p+='"+a.replace(G,function(a){return"\\"+z[a]}).replace(b.escape||
E,function(a,c){return"'+\n_.escape("+I(c)+")+\n'"}).replace(b.interpolate||E,function(a,c){return"'+\n("+I(c)+")+\n'"}).replace(b.evaluate||E,function(a,c){return"';\n"+I(c)+"\n;__p+='"})+"';\n";b.variable||(a="with(obj||{}){\n"+a+"}\n");var a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n",f=new Function(b.variable||"obj","_",a);if(c)return f(c,j);c=function(a){return f.call(this,a,j)};c.source="function("+(b.variable||"obj")+"){\n"+a+"}";return c};
j.chain=function(a){return j(a).chain()};var C=function(a){this._wrapped=a};j.prototype=C.prototype;var H=function(a,c){return c?j(a).chain():a};j.mixin(j);x("pop push reverse shift sort splice unshift".split(" "),function(c){var b=a[c];C.prototype[c]=function(){var a=this._wrapped;b.apply(a,arguments);var f=a.length;("shift"==c||"splice"==c)&&0===f&&delete a[0];return H(a,this._chain)}});x(["concat","join","slice"],function(c){var b=a[c];C.prototype[c]=function(){return H(b.apply(this._wrapped,arguments),
this._chain)}});C.prototype.chain=function(){this._chain=!0;return this};C.prototype.value=function(){return this._wrapped};return j}.call({}),emmet=function(i){var d=i._;if(!d)try{d=b}catch(h){}if(!d)try{d=require("underscore")}catch(e){}if(!d)throw"Cannot access to Underscore.js lib";var a={_:d},b=d,c=function(){},g=null;return{define:function(c,d){c in a||(a[c]=b.isFunction(d)?this.exec(d):d)},require:function(c){!(c in a)&&g&&g(c);return a[c]},exec:function(a,c){return a.call(c||i,b.bind(this.require,
this),b,this)},extend:function(a,d){var g=this,e;e=a&&a.hasOwnProperty("constructor")?a.constructor:function(){g.apply(this,arguments)};b.extend(e,g);c.prototype=g.prototype;e.prototype=new c;a&&b.extend(e.prototype,a);d&&b.extend(e,d);e.prototype.constructor=e;e.__super__=g.prototype;e.extend=this.extend;a.hasOwnProperty("toString")&&(e.prototype.toString=a.toString);return e},expandAbbreviation:function(a,c,b,d){if(!a)return"";var c=c||"html",b=b||"plain",g=this.require("filters"),e=this.require("abbreviationParser"),
b=this.require("profile").get(b,c);this.require("tabStops").resetTabstopIndex();a=g.extractFromAbbreviation(a);d=e.parse(a[0],{syntax:c,contextNode:d});c=g.composeList(c,b,a[1]);g.apply(d,c,b);return d.toString()},defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},log:function(){i.console&&i.console.log&&i.console.log.apply(i.console,arguments)},setModuleLoader:function(a){g=a}}}(this);
"undefined"!==typeof exports&&("undefined"!==typeof module&&module.exports&&(exports=module.exports=emmet),exports.emmet=emmet);
emmet.define("abbreviationParser",function(i,d){function h(){this.parent=null;this.children=[];this._attributes=[];this.abbreviation="";this.counter=1;this._name=null;this._text="";this.repeatCount=1;this.hasImplicitRepeat=!1;this._data={};this.padding=this.content=this.end=this.start=""}function e(a){return a.substring(1,a.length-1)}function a(c){for(var c=i("utils").trim(c),b=new h,f=b.addChild(),g,j=i("stringStream").create(c),c=1E3,r;!j.eol()&&0<--c;)switch(g=j.peek(),g){case "(":j.start=j.pos;
if(j.skipToPair("(",")"))g=a(e(j.current())),(r=j.match(/^\*(\d+)?/,!0))&&f._setRepeat(r[1]),d.each(g.children,function(a){f.addChild(a)});else throw'Invalid abbreviation: mo matching ")" found for character at '+j.pos;break;case ">":f=f.addChild();j.next();break;case "+":f=f.parent.addChild();j.next();break;case "^":g=f.parent||f;f=(g.parent||g).addChild();j.next();break;default:j.start=j.pos,j.eatWhile(function(a){if("["==a||"{"==a){if(j.skipToPair(a,n[a]))return j.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+
n[a]+'" found for character at '+j.pos;}return"+"==a?(j.next(),a=j.eol()||~"+>^*".indexOf(j.peek()),j.backUp(1),a):"("!=a&&k(a)}),f.setAbbreviation(j.current()),j.start=j.pos}if(1>c)throw"Endless loop detected";return b}function b(a){var a=i("utils").trim(a),c=[],a=i("stringStream").create(a);for(a.eatSpace();!a.eol();)if(a.start=a.pos,a.eatWhile(m)){var b=a.current(),f="";if("="==a.peek()){a.next();a.start=a.pos;var d=a.peek();if('"'==d||"'"==d){a.next();a:{for(var f=a,g=void 0;g=f.next();)if(g===
d){f=!0;break a}f=!1}if(f)f=a.current(),f=f.substring(1,f.length-1);else throw"Invalid attribute value";}else if(a.eatWhile(/[^\s\]]/))f=a.current();else throw"Invalid attribute value";}c.push({name:b,value:f});a.eatSpace()}else break;return c}function c(a){var a=d.map(a,function(a){return d.clone(a)}),c={};return d.filter(a,function(a){if(!(a.name in c))return c[a.name]=a;var b=c[a.name];b.value="class"==a.name.toLowerCase()?b.value+((b.value.length?" ":"")+a.value):a.value;return!1})}function g(a){for(var c=
a.children.length-1,b,f;0<=c;c--)if(f=a.children[c],f.isRepeating()){b=f.repeatCount;f.repeatCount=1;for(f.updateProperty("counter",1);0<--b;)f.parent.addChild(f.clone(),c+1).updateProperty("counter",b+1)}d.each(a.children,g);return a}function f(a){for(var c=a.children.length-1;0<=c;c--){var b=a.children[c];b.isGroup()?b.replace(f(b).children):b.isEmpty()&&b.remove()}d.each(a.children,f);return a}function k(a){var c=a.charCodeAt(0);return 64<c&&91>c||96<c&&123>c||47<c&&58>c||-1!="#.*:$-_!@|".indexOf(a)}
var l=/^[\w\-\$\:@\!]+\+?$/i,m=/[\w\-:\$]/,n={"[":"]","(":")","{":"}"},p=Array.prototype.splice,r=[],w=[],q=[];h.prototype={addChild:function(a,c){a=a||new h;a.parent=this;d.isUndefined(c)?this.children.push(a):this.children.splice(c,0,a);return a},clone:function(){var a=new h;d.each("abbreviation counter _name _text repeatCount hasImplicitRepeat start end content padding".split(" "),function(c){a[c]=this[c]},this);a._attributes=d.map(this._attributes,function(a){return d.clone(a)});a._data=d.clone(this._data);
a.children=d.map(this.children,function(c){c=c.clone();c.parent=a;return c});return a},remove:function(){this.parent&&(this.parent.children=d.without(this.parent.children,this));return this},replace:function(){var a=this.parent,c=d.indexOf(a.children,this),b=d.flatten(arguments);p.apply(a.children,[c,1].concat(b));d.each(b,function(c){c.parent=a})},updateProperty:function(a,c){this[a]=c;d.each(this.children,function(b){b.updateProperty(a,c)})},find:function(a){return this.findAll(a)[0]},findAll:function(a){if(!d.isFunction(a))var c=
a.toLowerCase(),a=function(a){return a.name().toLowerCase()==c};var b=[];d.each(this.children,function(c){a(c)&&b.push(c);b=b.concat(c.findAll(a))});return d.compact(b)},data:function(a,c){2==arguments.length&&(this._data[a]=c,"resource"==a&&i("elements").is(c,"snippet")&&(this.content=c.data,this._text&&(this.content=i("abbreviationUtils").insertChildContent(c.data,this._text))));return this._data[a]},name:function(){var a=this.matchedResource();return i("elements").is(a,"element")?a.name:this._name},
attributeList:function(){var a=[],b=this.matchedResource();i("elements").is(b,"element")&&d.isArray(b.attributes)&&(a=a.concat(b.attributes));return c(a.concat(this._attributes))},attribute:function(a,c){if(2==arguments.length){var b=d.indexOf(d.pluck(this._attributes,"name"),a.toLowerCase());~b?this._attributes[b].value=c:this._attributes.push({name:a,value:c})}return(d.find(this.attributeList(),function(c){return c.name==a})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?
d.indexOf(this.parent.children,this):-1},_setRepeat:function(a){a?this.repeatCount=parseInt(a,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(a){var f=this;this.abbreviation=a=(a||"").replace(/\*(\d+)?$/,function(a,c){f._setRepeat(c);return""});var d;a:if(d=a,~d.indexOf("{")){for(var g=i("stringStream").create(d);!g.eol();)switch(g.peek()){case "[":case "(":g.skipToPair(g.peek(),n[g.peek()]);break;case "{":g.start=g.pos;g.skipToPair("{","}");d={element:d.substring(0,g.start),text:e(g.current())};
break a;default:g.next()}d=void 0}else d=null;d&&(a=d.element,this.content=this._text=d.text);d=a;for(var g=[],j={"#":"id",".":"class"},h=null,k=i("stringStream").create(d);!k.eol();)switch(k.peek()){case "#":case ".":null===h&&(h=k.pos);var r=j[k.peek()];k.next();k.start=k.pos;k.eatWhile(m);g.push({name:r,value:k.current()});break;case "[":null===h&&(h=k.pos);k.start=k.pos;if(!k.skipToPair("[","]"))throw"Invalid attribute set definition";g=g.concat(b(e(k.current())));break;default:k.next()}d=g.length?
{element:d.substring(0,h),attributes:c(g)}:null;d&&(a=d.element,this._attributes=d.attributes);if((this._name=a)&&!l.test(this._name))throw"Invalid abbreviation";},toString:function(){var a=i("utils"),c=this.start,b=this.end,f=this.content,g=this;d.each(q,function(a){c=a(c,g,"start");f=a(f,g,"content");b=a(b,g,"end")});var e=d.map(this.children,function(a){return a.toString()}).join(""),f=i("abbreviationUtils").insertChildContent(f,e,{keepVariable:!1});return c+a.padString(f,this.padding)+b},hasEmptyChildren:function(){return!!d.find(this.children,
function(a){return a.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return 1<this.repeatCount||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var a=this;a.children.length;)a=
d.last(a.children);return a}};q.push(function(a,c){return i("utils").replaceCounter(a,c.counter)});return{parse:function(c,b){var b=b||{},e=a(c);if(b.contextNode){e._name=b.contextNode.name;var i={};d.each(e._attributes,function(a){i[a.name]=a});d.each(b.contextNode.attributes,function(a){a.name in i?i[a.name].value=a.value:(a=d.clone(a),e._attributes.push(a),i[a.name]=a)})}d.each(r,function(a){a(e,b)});e=f(g(e));d.each(w,function(a){a(e,b)});return e},AbbreviationNode:h,addPreprocessor:function(a){d.include(r,
a)||r.push(a)},removeFilter:function(a){preprocessor=d.without(r,a)},addPostprocessor:function(a){d.include(w,a)||w.push(a)},removePostprocessor:function(a){w=d.without(w,a)},addOutputProcessor:function(a){d.include(q,a)||q.push(a)},removeOutputProcessor:function(a){q=d.without(q,a)},isAllowedChar:function(a){a=String(a);return k(a)||~">+^[](){}".indexOf(a)}}});
emmet.exec(function(i,d){function h(e,a){var b=i("resources"),c=i("elements"),g=i("abbreviationParser");d.each(d.clone(e.children),function(f){var e=b.getMatchedResource(f,a);if(d.isString(e))f.data("resource",c.create("snippet",e));else if(c.is(e,"reference")){e=g.parse(e.data,{syntax:a});if(1<f.repeatCount){var i=e.findAll(function(a){return a.hasImplicitRepeat});d.each(i,function(a){a.repeatCount=f.repeatCount;a.hasImplicitRepeat=!1})}var m=e.deepestChild();m&&d.each(f.children,function(a){m.addChild(a)});
d.each(e.children,function(a){d.each(f.attributeList(),function(c){a.attribute(c.name,c.value)})});f.replace(e.children)}else f.data("resource",e);h(f,a)})}i("abbreviationParser").addPreprocessor(function(d,a){var b=a.syntax||emmet.defaultSyntax();h(d,b)})});
emmet.exec(function(i,d){function h(a){for(var c=i("range"),b=[],a=i("stringStream").create(a);!a.eol();){if("\\"==a.peek())a.next();else if(a.start=a.pos,a.match(g,!0)){b.push(c.create(a.start,g));continue}a.next()}return b}function e(a,c){var b=i("utils"),g=h(a);g.reverse();d.each(g,function(d){a=b.replaceSubstring(a,c,d)});return a}function a(a){return h(a.content).length?!0:!!d.find(a.attributeList(),function(a){return!!h(a.value).length})}function b(c,b,g){var h=c.findAll(function(c){return a(c)});
a(c)&&h.unshift(c);h.length?d.each(h,function(a){a.content=e(a.content,b);d.each(a._attributes,function(a){a.value=e(a.value,b)})}):(c=c.deepestChild()||c,c.content=g?b:i("abbreviationUtils").insertChildContent(c.content,b))}var c=i("abbreviationParser"),g="$#";c.addPreprocessor(function(a,c){if(c.pastedContent){var b=i("utils"),g=d.map(b.splitByLines(c.pastedContent,!0),b.trim);a.findAll(function(a){if(a.hasImplicitRepeat)return a.data("paste",g),a.repeatCount=g.length})}});c.addPostprocessor(function(a,
c){!a.findAll(function(a){var c=a.data("paste"),f="";d.isArray(c)?f=c[a.counter-1]:d.isFunction(c)?f=c(a.counter-1,a.content):c&&(f=c);f&&b(a,f,!!a.data("pasteOverwrites"));a.data("paste",null);return!d.isUndefined(c)}).length&&c.pastedContent&&b(a,c.pastedContent)})});emmet.exec(function(i,d){function h(e){var a=i("tagName");d.each(e.children,function(b){if(b.hasImplicitName()||b.data("forceNameResolving"))b._name=a.resolve(b.parent.name());h(b)});return e}i("abbreviationParser").addPostprocessor(h)});
emmet.define("cssParser",function(i,d){function h(a){return"undefined"!==typeof a}function e(){return{"char":f.chnum,line:f.linenum}}function a(a,c,b){var d=f,b=b||{};k.push({charstart:h(b["char"])?b["char"]:d.chnum,charend:h(b.charend)?b.charend:d.chnum,linestart:h(b.line)?b.line:d.linenum,lineend:h(b.lineend)?b.lineend:d.linenum,value:a,type:c||a})}function b(a,c){var b=f,d=c||{},g=h(d["char"])?d["char"]:b.chnum,d=h(d.line)?d.line:b.linenum;return{name:"ParseError",message:a+" at line "+(d+1)+" char "+
(g+1),walker:b,tokens:k}}function c(c){var b=f,d=b.ch,g=e(),i=c?c+d:d,d=b.nextChar();for(c&&(g["char"]-=c.length);m(d)||n(d);)i+=d,d=b.nextChar();a(i,"identifier",g)}function g(){var d=f.ch;if(" "===d||"\t"===d){for(var d=f.ch,g="",i=e();" "===d||"\t"===d;)g+=d,d=f.nextChar();a(g,"white",i)}else{if("/"===d){var d=f,i=g=d.ch,h,k=e();h=d.nextChar();if("*"!==h)k.charend=k["char"],k.lineend=k.line,d=a(i,i,k);else{for(;!("*"===g&&"/"===h);)i+=h,g=h,h=d.nextChar();i+=h;d.nextChar();a(i,"comment",k);d=void 0}return d}if('"'===
d||"'"===d){d=f;h=i=g=d.ch;for(var r=e(),g=d.nextChar();g!==i;){if("\n"===g)if(k=d.nextChar(),"\\"===k)h+=g+k;else throw b("Unterminated string",r);else h="\\"===g?h+(g+d.nextChar()):h+g;g=d.nextChar()}h+=g;d.nextChar();a(h,"string",r)}else if("("===d){d=f;g=d.ch;i=0;h=g;k=e();for(g=d.nextChar();")"!==g&&!i;){if("("===g)i++;else if(")"===g)i--;else if(!1===g)throw b("Unterminated brace",k);h+=g;g=d.nextChar()}h+=g;d.nextChar();a(h,"brace",k)}else{if("-"===d||"."===d||n(d)){d=f;g=d.ch;i=e();h=g;k=
"."===h;g=d.nextChar();r=!n(g);if(k&&r)i.charend=i["char"],i.lineend=i.line,d=a(h,".",i);else if("-"===h&&r)d=c("-");else{for(;!1!==g&&(n(g)||!k&&"."===g);)"."===g&&(k=!0),h+=g,g=d.nextChar();a(h,"number",i);d=void 0}return d}if(m(d))return c();if(l(d))d=f,i=d.ch,g=e(),h=d.nextChar(),"="===h&&l(i,!0)?(a(i+h,"match",g),d.nextChar()):(g.charend=g["char"]+1,g.lineend=g.line,a(i,i,g));else if("\n"===d)a("line"),f.nextChar();else throw b("Unrecognized character");}}}var f,k=[],l,m,n;f={lines:null,total_lines:0,
linenum:-1,line:"",ch:"",chnum:-1,init:function(a){var c=f;c.lines=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");c.total_lines=c.lines.length;c.chnum=-1;c.linenum=-1;c.ch="";c.line="";c.nextLine();c.nextChar()},nextLine:function(){this.linenum+=1;this.line=this.total_lines<=this.linenum?!1:this.lines[this.linenum];-1!==this.chnum&&(this.chnum=0);return this.line},nextChar:function(){for(this.chnum+=1;""===this.line.charAt(this.chnum);){if(!1===this.nextLine())return this.ch=!1;this.chnum=
-1;return this.ch="\n"}return this.ch=this.line.charAt(this.chnum)},peek:function(){return this.line.charAt(this.chnum+1)}};m=function(a){return"&"==a||"_"===a||"-"===a||"a"<=a&&"z">=a||"A"<=a&&"Z">=a};n=function(a){return!1!==a&&"0"<=a&&"9">=a};for(var p="{}[]()+*=.,;:>~|\\%$#@^!".split(""),r=["*","^","|","$","~"],w={},q={},v=0;v<p.length;v+=1)w[p[v]]=!0;for(v=0;v<r.length;v+=1)q[r[v]]=!0;l=function(a,c){return c?!!q[a]:!!w[a]};return{lex:function(a){f.init(a);for(k=[];!1!==f.ch;)g();return k},parse:function(a){var c=
0;return d.map(this.lex(a),function(b){"line"==b.type&&(b.value="\r"==a.charAt(c)&&"\n"==a.charAt(c+1)?"\r\n":a.charAt(c));return{type:b.type,start:c,end:c+=b.value.length}})},toSource:function(a){for(var c=0,b=a.length,d,g="";c<b;c+=1)d=a[c],g="line"===d.type?g+"\n":g+d.value;return g}}});
emmet.define("xmlParser",function(i){function d(c,b){function d(a){b.tokenize=a;return a(c,b)}var g=c.next();if("<"==g){if(c.eat("!"))return c.eat("[")?c.match("CDATA[")?d(e("atom","]]\>")):null:c.match("--")?d(e("comment","--\>")):c.match("DOCTYPE",!0,!0)?(c.eatWhile(/[\w\._\-]/),d(a(1))):null;if(c.eat("?"))return c.eatWhile(/[\w\._\-]/),b.tokenize=e("meta","?>"),"meta";v=c.eat("/")?"closeTag":"openTag";c.eatSpace();for(q="";g=c.eat(/[^\s\u00a0=<>\"\'\/?]/);)q+=g;b.tokenize=h;return"tag"}if("&"==
g)return(c.eat("#")?c.eat("x")?c.eatWhile(/[a-fA-F\d]/)&&c.eat(";"):c.eatWhile(/[\d]/)&&c.eat(";"):c.eatWhile(/[\w\.\-:]/)&&c.eat(";"))?"atom":"error";c.eatWhile(/[^&<]/);return"text"}function h(a,c){var b=a.next();if(">"==b||"/"==b&&a.eat(">"))return c.tokenize=d,v=">"==b?"endTag":"selfcloseTag","tag";if("="==b)return v="equals",null;if(/[\'\"]/.test(b))return c.tokenize=function(a,c){for(;!a.eol();)if(a.next()==b){c.tokenize=h;break}return"string"},c.tokenize(a,c);a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);
return"word"}function e(a,c){return function(b,g){for(;!b.eol();){if(b.match(c)){g.tokenize=d;break}b.next()}return a}}function a(c){return function(b,g){for(var f;null!=(f=b.next());){if("<"==f)return g.tokenize=a(c+1),g.tokenize(b,g);if(">"==f)if(1==c){g.tokenize=d;break}else return g.tokenize=a(c-1),g.tokenize(b,g)}return"meta"}}function b(){for(var a=arguments.length-1;0<=a;a--)s.cc.push(arguments[a])}function c(){b.apply(null,arguments);return!0}function g(){s.context&&(s.context=s.context.prev)}
function f(a){if("openTag"==a){s.tagName=q;var b=s.startOfLine;return c(l,function(a){if("selfcloseTag"==a||"endTag"==a&&w.autoSelfClosers.hasOwnProperty(s.tagName.toLowerCase()))return k(s.tagName.toLowerCase()),c();if("endTag"==a){k(s.tagName.toLowerCase());var a=s.tagName,d=w.doNotIndent.hasOwnProperty(a)||s.context&&s.context.noIndent;s.context={prev:s.context,tagName:a,indent:s.indented,startOfLine:b,noIndent:d}}return c()})}if("closeTag"==a){a=!1;s.context?s.context.tagName!=q&&(w.implicitlyClosed.hasOwnProperty(s.context.tagName.toLowerCase())&&
g(),a=!s.context||s.context.tagName!=q):a=!0;a&&(A="error");var d=a;return c(function(a){d&&(A="error");if("endTag"==a)return g(),c();A="error";return c(arguments.callee)})}return c()}function k(a){for(var c;s.context;){c=s.context.tagName.toLowerCase();if(!w.contextGrabbers.hasOwnProperty(c)||!w.contextGrabbers[c].hasOwnProperty(a))break;g()}}function l(a){if("word"==a)return A="attribute",c(m,l);if("endTag"==a||"selfcloseTag"==a)return b();A="error";return c(l)}function m(a){if("equals"==a)return c(n,
l);w.allowMissing||(A="error");return"endTag"==a||"selfcloseTag"==a?b():c()}function n(a){if("string"==a)return c(p);if("word"==a&&w.allowUnquoted)return A="string",c();A="error";return"endTag"==a||"selfCloseTag"==a?b():c()}function p(a){return"string"==a?c(p):b()}function r(a,c){a.sol()&&(c.startOfLine=!0,c.indented=0);if(a.eatSpace())return null;A=v=q=null;var b=c.tokenize(a,c);c.type=v;if((b||v)&&"comment"!=b)for(s=c;!(c.cc.pop()||f)(v||b););c.startOfLine=!1;return A||b}var w={autoSelfClosers:{},
implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},q=null,v=null,s=null,A;return{parse:function(a,c){for(var c=c||0,b={tokenize:d,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},g=i("stringStream").create(a),f=[];!g.eol();)f.push({type:r(g,b),start:g.start+c,end:g.pos+c}),g.start=g.pos;return f}}});
emmet.define("utils",function(i,d){function h(a){this._data=[];this.length=0;a&&this.append(a)}var e="${0}";h.prototype={append:function(a){this._data.push(a);this.length+=a.length},toString:function(){return this._data.join("")},valueOf:function(){return this.toString()}};return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(a){return this.reTag.test(a)},isNumeric:function(a){"string"==typeof a&&(a=a.charCodeAt(0));return a&&47<
a&&58>a},trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var a=i("resources");if(!a)return"\n";a=a.getVariable("newline");return d.isString(a)?a:"\n"},setNewline:function(a){var b=i("resources");b.setVariable("newline",a);b.setVariable("nl",a)},splitByLines:function(a,b){var c=this.getNewline(),c=(a||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,c).split(c);b&&(c=d.filter(c,function(a){return a.length&&!!this.trim(a)},this));return c},
normalizeNewline:function(a){return this.splitByLines(a).join(this.getNewline())},repeatString:function(a,b){for(var c=[],d=0;d<b;d++)c.push(a);return c.join("")},padString:function(a,b){var c=d.isNumber(b)?this.repeatString(i("resources").getVariable("indentation")||"\t",b):b,g=[],f=this.splitByLines(a),e=this.getNewline();g.push(f[0]);for(var h=1;h<f.length;h++)g.push(e+c+f[h]);return g.join("")},zeroPadString:function(a,b){for(var c="",d=a.length;b>d++;)c+="0";return c+a},unindentString:function(a,
b){for(var c=this.splitByLines(a),d=0;d<c.length;d++)0==c[d].search(b)&&(c[d]=c[d].substr(b.length));return c.join(this.getNewline())},replaceUnescapedSymbol:function(a,b,c){for(var g=0,f=a.length,e=b.length,i=0;g<f;)if("\\"==a.charAt(g))g+=e+1;else if(a.substr(g,e)==b){var h=e;i++;var n=c;d.isFunction(c)&&((n=c(a,b,g,i))?(h=n[0].length,n=n[1]):n=!1);!1===n?g++:(a=a.substring(0,g)+n+a.substring(g+h),f=a.length,g+=n.length)}else g++;return a},replaceVariables:function(a,b){var b=b||{},c=d.isFunction(b)?
b:function(a,c){return c in b?b[c]:null},g=i("resources");return i("tabStops").processText(a,{variable:function(a){var b=c(a.token,a.name,a);null===b&&(b=g.getVariable(a.name));if(null===b||d.isUndefined(b))b=a.token;return b}})},replaceCounter:function(a,b){var a=String(a),b=String(b),c=this;return this.replaceUnescapedSymbol(a,"$",function(a,d,e){if("{"==a.charAt(e+1)||c.isNumeric(a.charAt(e+1)))return!1;for(d=e+1;"$"==a.charAt(d)&&"{"!=a.charAt(d+1);)d++;return[a.substring(e,d),c.zeroPadString(b,
d-e)]})},matchesTag:function(a){return this.reTag.test(a||"")},escapeText:function(a){return a.replace(/([\$\\])/g,"\\$1")},unescapeText:function(a){return a.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return d.isFunction(e)?e.apply(this,arguments):e},setCaretPlaceholder:function(a){e=a},getLinePadding:function(a){return(a.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(a,b){var c=this.findNewlineBounds(a,b);return this.getLinePadding(c.substring(a))},escapeForRegexp:function(a){return a.replace(RegExp("[.*+?|()\\[\\]{}\\\\]",
"g"),"\\$&")},prettifyNumber:function(a,b){return a.toFixed("undefined"==typeof b?2:b).replace(/\.?0+$/,"")},stringBuilder:function(a){return new h(a)},replaceSubstring:function(a,b,c,g){d.isObject(c)&&"end"in c&&(g=c.end,c=c.start);d.isString(g)&&(g=c+g.length);d.isUndefined(g)&&(g=c);return 0>c||c>a.length?a:a.substring(0,c)+b+a.substring(g)},narrowToNonSpace:function(a,b,c){b=i("range").create(b,c);for(c=/[\s\n\r\u00a0]/;b.start<b.end&&c.test(a.charAt(b.start));)b.start++;for(;b.end>b.start;)if(b.end--,
!c.test(a.charAt(b.end))){b.end++;break}return b},findNewlineBounds:function(a,b){for(var c=a.length,d=0,f=c-1,e=b-1;0<e;e--){var h=a.charAt(e);if("\n"==h||"\r"==h){d=e+1;break}}for(e=b;e<c;e++)if(h=a.charAt(e),"\n"==h||"\r"==h){f=e;break}return i("range").create(d,f-d)},deepMerge:function(){var a,b,c,g,f,e=arguments[0]||{},h=1,i=arguments.length;for(!d.isObject(e)&&!d.isFunction(e)&&(e={});h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=e[b],g=a[b],e!==g&&(g&&(d.isObject(g)||(f=d.isArray(g)))?(f?
(f=!1,c=c&&d.isArray(c)?c:[]):c=c&&d.isObject(c)?c:{},e[b]=this.deepMerge(c,g)):void 0!==g&&(e[b]=g));return e}}});
emmet.define("range",function(i,d){function h(e,a){d.isObject(e)&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):d.isArray(e)?(this.start=e[0],this.end=e[1]):(a=d.isString(a)?a.length:+a,this.start=e,this.end=e+a)}h.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(d){return this.start===d.start&&this.end===d.end},shift:function(d){this.start+=d;this.end+=d;return this},overlap:function(d){return d.start<=this.end&&d.end>=this.start},
intersection:function(d){if(this.overlap(d)){var a=Math.max(d.start,this.start),d=Math.min(d.end,this.end);return new h(a,d-a)}return null},union:function(d){if(this.overlap(d)){var a=Math.min(d.start,this.start),d=Math.max(d.end,this.end);return new h(a,d-a)}return null},inside:function(d){return this.start<=d&&this.end>d},include:function(d){return this.start<=d.start&&this.end>=d.end},substring:function(d){return 0<this.length()?d.substring(this.start,this.end):""},clone:function(){return new h(this.start,
this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return"{"+this.start+", "+this.length()+"}"}};return{create:function(e,a){if(d.isUndefined(e)||null===e)return null;if(e instanceof h)return e;d.isObject(e)&&("start"in e&&"end"in e)&&(a=e.end-e.start,e=e.start);return new h(e,a)},create2:function(e,a){d.isNumber(e)&&d.isNumber(a)&&(a-=e);return this.create(e,a)}}});
emmet.define("handlerList",function(i,d){function h(){this._list=[]}h.prototype={add:function(e,a){this._list.push(d.extend({order:0},a||{},{fn:e}))},remove:function(e){this._list=d.without(this._list,d.find(this._list,function(a){return a.fn===e}))},list:function(){return d.sortBy(this._list,"order").reverse()},listFn:function(){return d.pluck(this.list(),"fn")},exec:function(e,a){var a=a||[],b=null;d.find(this.list(),function(c){b=c.fn.apply(c,a);if(b!==e)return!0});return b}};return{create:function(){return new h}}});
emmet.define("tokenIterator",function(i,d){function h(d){this.tokens=d;this._position=0;this.reset()}h.prototype={next:function(){if(this.hasNext()){var d=this.tokens[++this._i];this._position=d.start;return d}return null},current:function(){return this.tokens[this._i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=-1;this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+
1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,a){for(var b,c=d.isString(e)?function(a){return a.type==e}:e;(b=this.next())&&!(a&&a.call(this,b),c.call(this,b)););}};return{create:function(d){return new h(d)}}});
emmet.define("stringStream",function(){function i(d){this.pos=this.start=0;this.string=d}i.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(d){var h=this.string.charAt(this.pos);if("string"==typeof d?h==d:h&&(d.test?d.test(h):d(h)))return++this.pos,h},eatWhile:function(d){for(var h=this.pos;this.eat(d););
return this.pos>h},eatSpace:function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},skipToEnd:function(){this.pos=this.string.length},skipTo:function(d){d=this.string.indexOf(d,this.pos);if(-1<d)return this.pos=d,!0},skipToPair:function(d,h){for(var e=0,a,b=this.pos,c=this.string.length;b<c;)if(a=this.string.charAt(b++),a==d)e++;else if(a==h&&(e--,1>e))return this.pos=b,!0;return!1},backUp:function(d){this.pos-=d},match:function(d,h,e){if("string"==
typeof d){if(e=e?function(a){return a.toLowerCase()}:function(a){return a},e(this.string).indexOf(e(d),this.pos)==this.pos)return!1!==h&&(this.pos+=d.length),!0}else{if((d=this.string.slice(this.pos).match(d))&&!1!==h)this.pos+=d[0].length;return d}},current:function(){return this.string.slice(this.start,this.pos)}};return{create:function(d){return new i(d)}}});
emmet.define("resources",function(i,d){var h={},e=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,a={},b={},c=i("handlerList").create();return{setVocabulary:function(c,d){h={};"system"==d?a=c:b=c},getVocabulary:function(c){return"system"==c?a:b},getMatchedResource:function(a,b){return c.exec(null,d.toArray(arguments))||this.findSnippet(b,a.name())},getVariable:function(a){return(this.getSection("variables")||{})[a]},setVariable:function(a,c){var b=this.getVocabulary("user")||{};
"variables"in b||(b.variables={});b.variables[a]=c;this.setVocabulary(b,"user")},hasSyntax:function(a){return a in this.getVocabulary("user")||a in this.getVocabulary("system")},addResolver:function(a,b){c.add(a,b)},removeResolver:function(a){c.remove(a)},getSection:function(c){if(!c)return null;c in h||(h[c]=i("utils").deepMerge({},a[c],b[c]));for(var f=h[c],e=d.rest(arguments),l;f&&(l=e.shift());)if(l in f)f=f[l];else return null;return f},findItem:function(a,c){for(var b=this.getSection(a);b;){if(c in
b)return b[c];b=this.getSection(b["extends"])}},findSnippet:function(a,c,b){if(!a||!c)return null;var b=b||[],h=[c];~c.indexOf("-")&&h.push(c.replace(/\-/g,":"));var m=this.getSection(a),n=null;d.find(["snippets","abbreviations"],function(c){var b=this.getSection(a,c);if(b)return d.find(h,function(a){if(b[a]){var d=b[a],f=i("utils"),d=f.replaceUnescapedSymbol(d,"|",f.getCaretPlaceholder()),g;"snippets"==c?g=i("elements").create("snippet",d):("abbreviations"==c?(i("utils").trim(a),a=i("elements"),
a=(g=e.exec(d))?a.create("element",g[1],g[2],"/"==g[4]):a.create("reference",d)):a=void 0,g=a);return n=g}})},this);b.push(a);return!n&&m["extends"]&&!d.include(b,m["extends"])?this.findSnippet(m["extends"],c,b):n}}});
emmet.define("actions",function(i,d){function h(a){return i("utils").trim(a.charAt(0).toUpperCase()+a.substring(1).replace(/_[a-z]/g,function(a){return" "+a.charAt(1).toUpperCase()}))}var e={};return{add:function(a,b,c){a=a.toLowerCase();c=c||{};c.label||(c.label=h(a));e[a]={name:a,fn:b,options:c}},get:function(a){return e[a.toLowerCase()]},run:function(a,b){d.isArray(b)||(b=d.rest(arguments));var c=this.get(a);if(c)return c.fn.apply(emmet,b);emmet.log('Action "%s" is not defined',a);return!1},getAll:function(){return e},
getList:function(){return d.values(this.getAll())},getMenu:function(a){var b=[],a=a||[];d.each(this.getList(),function(c){if(!c.options.hidden&&!d.include(a,c.name)){var g=h(c.name),f=b;if(c.options.label)for(var e=c.options.label.split("/"),g=e.pop(),i,m;i=e.shift();)m=d.find(f,function(a){return"submenu"==a.type&&a.name==i}),m||(m={name:i,type:"submenu",items:[]},f.push(m)),f=m.items;f.push({type:"action",name:c.name,label:g})}});return b},getActionNameForMenuTitle:function(a,b){var c=null;d.find(b||
this.getMenu(),function(b){if("action"==b.type){if(b.label==a||b.name==a)return c=b.name}else return c=this.getActionNameForMenuTitle(a,b.items)},this);return c||null}}});
emmet.define("profile",function(i,d){function h(a){d.extend(this,g,a)}function e(a,c){switch(String(c||"").toLowerCase()){case "lower":return a.toLowerCase();case "upper":return a.toUpperCase()}return a}function a(a,b){return c[a.toLowerCase()]=new h(b)}function b(){a("xhtml");a("html",{self_closing_tag:!1});a("xml",{self_closing_tag:!0,tag_nl:!0});a("plain",{tag_nl:!1,indent:!1,place_cursor:!1});a("line",{tag_nl:!1,indent:!1})}var c={},g={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",
tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:""};h.prototype={tagName:function(a){return e(a,this.tag_case)},attributeName:function(a){return e(a,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":!0===this.self_closing_tag?"/":""},cursor:function(){return this.place_cursor?i("utils").getCaretPlaceholder():""}};b();return{create:function(c,b){return 2==arguments.length?
a(c,b):new h(d.defaults(c||{},g))},get:function(a,b){if(b&&d.isString(a)){var g=i("resources").findItem(b,"profile");g&&(a=g)}return!a?c.plain:a instanceof h?a:d.isString(a)&&a.toLowerCase()in c?c[a.toLowerCase()]:this.create(a)},remove:function(a){a=(a||"").toLowerCase();a in c&&delete c[a]},reset:function(){c={};b()},stringCase:e}});
emmet.define("editorUtils",function(i){return{isInsideTag:function(d,h){for(var e=/^<\/?\w[\w\:\-]*.*?>/,a=h;-1<a&&"<"!=d.charAt(a);)a--;return-1!=a&&(e=e.exec(d.substring(a)))&&h>a&&h<a+e[0].length?!0:!1},outputInfo:function(d,h,e){return{syntax:String(h||d.getSyntax()),profile:String(e||d.getProfileName()),content:String(d.getContent())}},unindent:function(d,h){return i("utils").unindentString(h,this.getCurrentLinePadding(d))},getCurrentLinePadding:function(d){return i("utils").getLinePadding(d.getCurrentLine())}}});
emmet.define("actionUtils",function(i){return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(d){for(var h=d.length,e=-1,a=0,b=0,c=0,g=i("utils"),f=i("abbreviationParser");;){h--;if(0>h){e=0;break}var k=d.charAt(h);if("]"==k)b++;else if("["==k){if(!b){e=h+1;break}b--}else if("}"==k)c++;else if("{"==k){if(!c){e=h+1;break}c--}else if(")"==k)a++;else if("("==k){if(!a){e=h+1;break}a--}else if(!b&&
!c&&(!f.isAllowedChar(k)||">"==k&&g.endsWithTag(d.substring(0,h+1)))){e=h+1;break}}return-1!=e&&!c&&!b&&!a?d.substring(e).replace(/^[\*\+\>\^]+/,""):""},getImageSize:function(d){var h=function(){return d.charCodeAt(e++)};if("\u0089PNG\r\n\u001a\n"===d.substr(0,8)){var e=d.indexOf("IHDR")+4;return{width:h()<<24|h()<<16|h()<<8|h(),height:h()<<24|h()<<16|h()<<8|h()}}if("GIF8"===d.substr(0,4))return e=6,{width:h()|h()<<8,height:h()|h()<<8};if("\u00ff\u00d8"===d.substr(0,2))for(var e=2,a=d.length;e<a&&
255==h();){var b=h();if(218==b)break;var c=h()<<8|h();if(192<=b&&207>=b&&!(b&4)&&!(b&8))return e+=1,{height:h()<<8|h(),width:h()<<8|h()};e+=c-2}},captureContext:function(d){if(String(d.getSyntax())in{html:1,xml:1,xsl:1}){var h=i("html_matcher").getTags(String(d.getContent()),d.getCaretPos(),String(d.getProfileName()));if(h&&h[0]&&"tag"==h[0].type){for(var d=/([\w\-:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,e=h[0],h=e.full_tag.replace(/^<[\w\-\:]+/,""),e={name:e.name,
attributes:[]},a;a=d.exec(h);)e.attributes.push({name:a[1],value:a[2]});return e}}return null},findExpressionBounds:function(d,h){for(var e=String(d.getContent()),a=e.length,b=d.getCaretPos()-1,c=b+1;0<=b&&h(e.charAt(b),b,e);)b--;for(;c<a&&h(e.charAt(c),c,e);)c++;if(c>b)return i("range").create([++b,c])},compoundUpdate:function(d,h){if(h){var e=d.getSelectionRange();d.replaceContent(h.data,h.start,h.end,!0);d.createSelection(h.caret,h.caret+e.end-e.start);return!0}return!1}}});
emmet.define("abbreviationUtils",function(i,d){return{isSnippet:function(d){return i("elements").is(d.matchedResource(),"snippet")},isUnary:function(d){var e=d.matchedResource();return d.children.length||this.isSnippet(d)?!1:e&&e.is_empty||i("tagName").isEmptyElement(d.name())},isInline:function(d){return d.isTextNode()||!d.name()||i("tagName").isInlineLevel(d.name())},isBlock:function(d){return i("elements").is(d.matchedResource(),"snippet")||!this.isInline(d)},hasTagsInContent:function(d){return i("utils").matchesTag(d.content)},
hasBlockChildren:function(i){return this.hasTagsInContent(i)&&this.isBlock(i)||d.any(i.children,function(d){return this.isBlock(d)},this)},insertChildContent:function(h,e,a){var a=d.extend({keepVariable:!0,appendIfNoChild:!0},a||{}),b=!1,c=i("utils"),h=c.replaceVariables(h,function(d,f,i){var l=d;"child"==f&&(l=c.padString(e,c.getLinePaddingFromPosition(h,i.start)),b=!0,a.keepVariable&&(l+=d));return l});!b&&a.appendIfNoChild&&(h+=e);return h}}});
emmet.define("base64",function(){return{encode:function(i){for(var d=[],h,e,a,b,c,g,f=0,k=i.length;f<k;)b=i.charCodeAt(f++),c=i.charCodeAt(f++),g=i.charCodeAt(f++),h=b&255,e=c&255,a=g&255,b=h>>2,h=(h&3)<<4|e>>4,e=(e&15)<<2|a>>6,a&=63,isNaN(c)?e=a=64:isNaN(g)&&(a=64),d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a));return d.join("")},decode:function(i){var d,h,e,a,b,c=0,g=0,f=[],k=i.length;if(!i)return i;i+="";do d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(c++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(c++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(c++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(c++)),
e=d<<18|h<<12|a<<6|b,d=e>>16&255,h=e>>8&255,e&=255,64==a?f[g++]=String.fromCharCode(d):64==b?f[g++]=String.fromCharCode(d,h):f[g++]=String.fromCharCode(d,h,e);while(c<k);return f.join("")}}});
(function(){function i(a,c){var b=a[1].toLowerCase();return{name:b,full_tag:a[0],start:c,end:c+a[0].length,unary:Boolean(a[3])||b in g&&"html"==k,has_close:Boolean(a[3]),type:"tag",close_self:b in f&&"html"==k}}function d(a){for(var c={},a=a.split(","),b=0;b<a.length;b++)c[a[b]]=!0;return c}function h(a,c,b){var b=b||0,d=-1,g=-1;a&&!c?(d=a.start,g=a.end):a&&c&&(a.start<b&&a.end>b||c.start<=b&&c.end>b?(d=a.start,g=c.end):(d=a.end,g=c.start));return[d,g]}function e(a,c,b){l.opening_tag=a;l.closing_tag=
c;a=h(a,c,b||0);l.start_ix=a[0];l.end_ix=a[1];return-1!=l.start_ix?[l.start_ix,l.end_ix]:null}function a(a,d,g,f){function e(c,b){1==arguments.length&&(b=u);return a.substr(b,c.length)==c}function m(c){for(;c--&&!("<"==a.charAt(c)&&e("<\!--",c)););return c}f=f||h;if(!g||"html"!=g)g="xhtml";k=g;var g=[],n=[],l=null,j=null,x=a.length,t,u;g.last=n.last=function(){return this[this.length-1]};for(u=d;u--&&0<=u;)if(t=a.charAt(u),"<"==t){var y=a.substring(u,x);if(t=y.match(c))t=i(t,u),t.start<d&&t.end>d?
j=t:n.push(t);else if(t=y.match(b))if(t=i(t,u),t.unary){if(t.start<d&&t.end>d)return f(t,null,d)}else if(n.last()&&n.last().name==t.name)n.pop();else{l=t;break}else if(0==y.indexOf("<\!--")&&(t=y.search("--\>")+u+3,u<d&&t>=d))return f({start:u,end:t,type:"comment"})}else"-"==t&&e("--\>")&&(u=m(u));if(!l)return f(null);if(!j)for(u=d;u<x;u++)if(t=a.charAt(u),"<"==t)if(y=a.substring(u,x),t=y.match(b))t=i(t,u),t.unary||g.push(t);else if(t=y.match(c))if(t=i(t,u),g.last()&&g.last().name==t.name)g.pop();
else{j=t;break}else e("<\!--")&&(u+=y.search("--\>")+2);else if("-"==t&&e("--\>")&&(!g.last()||"comment"!=g.last().type))return t=u+3,d=f,f=m(u),d({start:f,end:t,type:"comment"});return f(l,j,d)}var b=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([\w\:\-]+)[^>]*>/,g=d("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");d("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");
d("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var f=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),k="xhtml",l={opening_tag:null,closing_tag:null,start_ix:-1,end_ix:-1},m=function(c,b,d){return a(c,b,d,e)};m.start_tag=b;m.end_tag=c;m.find=function(c,b,d){return a(c,b,d)};m.getTags=function(c,b,d){return a(c,b,d,function(a,c){return[a,c]})};m.last_match=
l;try{emmet.define("html_matcher",function(){return m})}catch(n){}})();
emmet.define("tabStops",function(i,d){var h=100,e=0,a={replaceCarets:!1,escape:function(a){return"\\"+a},tabstop:function(a){return a.token},variable:function(a){return a.token}};i("abbreviationParser").addOutputProcessor(function(a,c){var d=0,f=i("tabStops"),h=i("utils"),a=f.processText(a,{tabstop:function(a){var c=parseInt(a.group);if(0==c)return"${0}";c>d&&(d=c);return a.placeholder?"${"+(c+e)+":"+a.placeholder+"}":"${"+(c+e)+"}"}}),a=h.replaceVariables(a,f.variablesResolver(c));e+=d+1;return a});
return{extract:function(b,c){var g=i("utils"),f={carets:""},e=[],c=d.extend({},a,c,{tabstop:function(a){var c=a.token,b="";"cursor"==a.placeholder?e.push({start:a.start,end:a.start+c.length,group:"carets",value:""}):("placeholder"in a&&(f[a.group]=a.placeholder),a.group in f&&(b=f[a.group]),e.push({start:a.start,end:a.start+c.length,group:a.group,value:b}));return c}});c.replaceCarets&&(b=b.replace(RegExp(g.escapeForRegexp(g.getCaretPlaceholder()),"g"),"${0:cursor}"));var b=this.processText(b,c),
h=g.stringBuilder(),m=0,g=d.map(e,function(a){h.append(b.substring(m,a.start));var c=h.length,d=f[a.group]||"";h.append(d);m=a.end;return{group:a.group,start:c,end:c+d.length}});h.append(b.substring(m));return{text:h.toString(),tabstops:d.sortBy(g,"start")}},processText:function(b,c){for(var c=d.extend({},a,c),g=i("utils").stringBuilder(),f=i("stringStream").create(b),e,h;e=f.next();)if("\\"==e&&!f.eol())g.append(c.escape(f.next()));else{h=e;if("$"==e)if(f.start=f.pos-1,f.match(/^[0-9]+/))h=c.tabstop({start:g.length,
group:f.current().substr(1),token:f.current()});else if(e=f.match(/^\{([a-z_\-][\w\-]*)\}/))h=c.variable({start:g.length,name:e[1],token:f.current()});else if(e=f.match(/^\{([0-9]+)(:.+?)?\}/))h={start:g.length,group:e[1],token:f.current()},e[2]&&(h.placeholder=e[2].substr(1)),h=c.tabstop(h);g.append(h)}return g.toString()},upgrade:function(a,c){var g=0,f={tabstop:function(a){var b=parseInt(a.group);b>g&&(g=b);return a.placeholder?"${"+(b+c)+":"+a.placeholder+"}":"${"+(b+c)+"}"}};d.each(["start",
"end","content"],function(c){a[c]=this.processText(a[c],f)},this);return g},variablesResolver:function(a){var c={},g=i("resources");return function(f,e){if("child"==e)return f;if("cursor"==e)return i("utils").getCaretPlaceholder();var l=a.attribute(e);if(!d.isUndefined(l)||(l=g.getVariable(e)))return l;c[e]||(c[e]=h++);return"${"+c[e]+":"+e+"}"}},resetPlaceholderCounter:function(){console.log("deprecated");h=100},resetTabstopIndex:function(){e=0;h=100}}});
emmet.define("preferences",function(i,d){var h={},e={},a=null,b=null;return{define:function(a,b,f){var i=a;d.isString(a)&&(i={},i[a]={value:b,description:f});d.each(i,function(a,c){e[c]=d.isObject(a)&&"value"in a&&3>d.keys(a).length?a:{value:a}})},set:function(a,b){var f=a;d.isString(a)&&(f={},f[a]=b);d.each(f,function(a,c){if(!(c in e))throw'Property "'+c+'" is not defined. You should define it first with `define` method of current module';if(a!==e[c].value){switch(typeof e[c].value){case "boolean":var b=
a;d.isString(b)?(b=b.toLowerCase(),a="yes"==b||"true"==b||"1"==b):a=!!b;break;case "number":a=parseInt(a+"",10)||0;break;default:a+=""}h[c]=a}else c in h&&delete h[c]})},get:function(a){if(a in h)return h[a];if(a in e)return e[a].value},getArray:function(a){a=this.get(a);d.isUndefined(a)||(a=d.map(a.split(","),i("utils").trim),a.length||(a=null));return a},getDict:function(a){var b={};d.each(this.getArray(a),function(a){a=a.split(":");b[a[0]]=a[1]});return b},description:function(a){return a in e?
e[a].description:void 0},remove:function(a){d.isArray(a)||(a=[a]);d.each(a,function(a){a in h&&delete h[a];a in e&&delete e[a]})},list:function(){return d.map(d.keys(e).sort(),function(a){return{name:a,value:this.get(a),type:typeof e[a].value,description:e[a].description}},this)},load:function(a){d.each(a,function(a,c){this.set(c,a)},this)},exportModified:function(){return d.clone(h)},reset:function(){h={}},_startTest:function(){a=e;b=h;e={};h={}},_stopTest:function(){e=a;h=b}}});
emmet.define("filters",function(i,d){function h(a){return!a?[]:d.isString(a)?a.split(/[\|,]/g):a}var e={};return{add:function(a,b){e[a]=b},apply:function(a,b,c){var g=i("utils"),c=i("profile").get(c);d.each(h(b),function(b){(b=g.trim(b.toLowerCase()))&&b in e&&(a=e[b](a,c))});return a},composeList:function(a,b,c){b=i("profile").get(b);a=h(b.filters||i("resources").findItem(a,"filters")||"html");c&&(a=a.concat(h(c)));if(!a||!a.length)a=h("html");return a},extractFromAbbreviation:function(a){var b=
"",a=a.replace(/\|([\w\|\-]+)$/,function(a,d){b=d;return""});return[a,h(b)]}}});
emmet.define("elements",function(i,d){function h(a){return{data:a}}var e={},a=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g,b={add:function(a,b){var d=this;e[a]=function(){var e=b.apply(d,arguments);e&&(e.type=a);return e}},get:function(a){return e[a]},create:function(a){var b=[].slice.call(arguments,1),d=this.get(a);return d?d.apply(this,b):null},is:function(a,b){return a&&a.type===b}};b.add("element",function(c,b,f){var e={name:c,is_empty:!!f};if(b)if(e.attributes=[],d.isArray(b))e.attributes=b;else if(d.isString(b))for(;c=
a.exec(b);)e.attributes.push({name:c[1],value:c[3]});else d.each(b,function(a,c){e.attributes.push({name:c,value:a})});return e});b.add("snippet",h);b.add("reference",h);b.add("empty",function(){return{}});return b});
emmet.define("editTree",function(i,d,h){function e(a,b){this.options=d.extend({offset:0},b);this.source=a;this._children=[];this._positions={name:0};this.initialize.apply(this,arguments)}function a(a,b,d){this.parent=a;this._name=b.value;this._value=d?d.value:"";this._positions={name:b.start,value:d?d.start:-1};this.initialize.apply(this,arguments)}var b=i("range").create;e.extend=h.extend;e.prototype={initialize:function(){},_updateSource:function(a,g,f){var e=b(g,d.isUndefined(f)?0:f-g),h=a.length-
e.length(),m=function(a){d.each(a,function(c,b){c>=e.end&&(a[b]+=h)})};m(this._positions);d.each(this.list(),function(a){m(a._positions)});this.source=i("utils").replaceSubstring(this.source,a,e)},add:function(c,b){var d=new a(c,b);this._children.push(d);return d},get:function(a){return d.isNumber(a)?this.list()[a]:d.isString(a)?d.find(this.list(),function(b){return b.name()===a}):a},getAll:function(a){d.isArray(a)||(a=[a]);var b=[],f=[];d.each(a,function(a){d.isString(a)?b.push(a):d.isNumber(a)&&
f.push(a)});return d.filter(this.list(),function(a,c){return d.include(f,c)||d.include(b,a.name())})},value:function(a,b,f){var e=this.get(a);if(e)return e.value(b);if(!d.isUndefined(b))return this.add(a,b,f)},values:function(a){return d.map(this.getAll(a),function(a){return a.value()})},remove:function(a){if(a=this.get(a))this._updateSource("",a.fullRange()),this._children=d.without(this._children,a)},list:function(){return this._children},indexOf:function(a){return d.indexOf(this.list(),this.get(a))},
name:function(a){if(!d.isUndefined(a)&&this._name!==(a=String(a)))this._updateSource(a,this._positions.name,this._positions.name+this._name.length),this._name=a;return this._name},nameRange:function(a){return b(this._positions.name+(a?this.options.offset:0),this.name())},range:function(a){return b(a?this.options.offset:0,this.toString())},itemFromPosition:function(a,b){return d.find(this.list(),function(d){return d.range(b).inside(a)})},toString:function(){return this.source}};a.extend=h.extend;a.prototype=
{initialize:function(){},_pos:function(a,b){return a+(b?this.parent.options.offset:0)},value:function(a){if(!d.isUndefined(a)&&this._value!==(a=String(a)))this.parent._updateSource(a,this.valueRange()),this._value=a;return this._value},name:function(a){if(!d.isUndefined(a)&&this._name!==(a=String(a)))this.parent._updateSource(a,this.nameRange()),this._name=a;return this._name},namePosition:function(a){return this._pos(this._positions.name,a)},valuePosition:function(a){return this._pos(this._positions.value,
a)},range:function(a){return b(this.namePosition(a),this.toString())},fullRange:function(a){return this.range(a)},nameRange:function(a){return b(this.namePosition(a),this.name())},valueRange:function(a){return b(this.valuePosition(a),this.value())},toString:function(){return this.name()+this.value()},valueOf:function(){return this.toString()}};return{EditContainer:e,EditElement:a,createToken:function(a,b,d){a={start:a||0,value:b||"",type:d};a.end=a.start+a.value.length;return a}}});
emmet.define("cssEditTree",function(i,d){function h(a,c){return i("range").create(a,c)}function e(a,c){var c=c||g|f,b=["white","line"];if((c&f)==f)for(;a.length&&d.include(b,d.last(a).type);)a.pop();if((c&g)==g)for(;a.length&&d.include(b,a[0].type);)a.shift();return a}function a(a){var c=["white","line",":"],b=[],i,k;a.nextUntil(function(){return!d.include(c,this.itemNext().type)});for(k=a.current().end;i=a.next();){if("}"==i.type||";"==i.type)return e(b,g|("}"==i.type?f:0)),b.length?(k=b[0].start,
a=d.last(b).end):a=k,h(k,a-k);b.push(i)}if(b.length)return h(b[0].start,d.last(b).end-b[0].start)}function b(a){var c=i("stringStream").create(a),b=[],g=/[\s\u00a0,]/,e=function(){c.next();b.push(h(c.start,c.current()));c.start=c.pos};c.eatSpace();for(c.start=c.pos;a=c.next();)if('"'==a||"'"==a){c.next();if(!c.skipTo(a))break;e()}else if("("==a){c.backUp(1);if(!c.skipToPair("(",")"))break;c.backUp(1);e()}else g.test(a)&&(b.push(h(c.start,c.current().length-1)),c.eatWhile(g),c.start=c.pos);e();return d.chain(b).filter(function(a){return!!a.length()}).uniq(!1,
function(a){return a.toString()}).value()}var c={styleBefore:"\n\t",styleSeparator:": ",offset:0},g=1,f=2,k=i("editTree").EditContainer.extend({initialize:function(b){d.defaults(this.options,c);var g=i("editTree"),f=i("tokenIterator").create(i("cssParser").parse(b)),r,k=[],q;for(r=f.position();(q=f.next())&&"{"!=q.type;)k.push(q);e(k);k.length?(r=k[0].start,k=d.last(k).end):k=r;r=h(r,k-r);this._positions.name=r.start;this._name=r.substring(b);if(!f.current()||"{"!=f.current().type)throw"Invalid CSS rule";
for(this._positions.contentStart=f.position()+1;r=f.next();){if(k="identifier"==r.type)a:{k=f.tokens;q=f._i+1;for(var v=k.length;q<v;q++){if(":"==k[q].type){k=!0;break a}if("identifier"==k[q].type||"line"==k[q].type){k=!1;break a}}k=!1}k&&(r=h(r),k=a(f),q=f.current()&&";"==f.current().type?h(f.current()):h(k.end,0),this._children.push(new l(this,g.createToken(r.start,r.substring(b)),g.createToken(k.start,k.substring(b)),g.createToken(q.start,q.substring(b)))))}this._saveStyle()},_saveStyle:function(){var a=
this._positions.contentStart,c=this.source,b=i("utils");d.each(this.list(),function(f){f.styleBefore=c.substring(a,f.namePosition());var g=b.splitByLines(f.styleBefore);1<g.length&&(f.styleBefore="\n"+d.last(g));f.styleSeparator=c.substring(f.nameRange().end,f.valuePosition());f.styleBefore=d.last(f.styleBefore.split("*/"));f.styleSeparator=f.styleSeparator.replace(/\/\*.*?\*\//g,"");a=f.range().end})},add:function(a,c,b){var f=this.list(),g=this._positions.contentStart,e=d.pick(this.options,"styleBefore",
"styleSeparator"),h=i("editTree");d.isUndefined(b)&&(b=f.length);var s=f[b];if(s)g=s.fullRange().start;else if(s=f[b-1])s.end(";"),g=s.range().end;s&&(e=d.pick(s,"styleBefore","styleSeparator"));a=h.createToken(g+e.styleBefore.length,a);c=h.createToken(a.end+e.styleSeparator.length,c);h=new l(this,a,c,h.createToken(c.end,";"));d.extend(h,e);this._updateSource(h.styleBefore+h.toString(),g);this._children.splice(b,0,h);return h}}),l=i("editTree").EditElement.extend({initialize:function(a,c,b,d){this.styleBefore=
a.options.styleBefore;this.styleSeparator=a.options.styleSeparator;this._end=d.value;this._positions.end=d.start},valueParts:function(a){var c=b(this.value());if(a){var f=this.valuePosition(!0);d.each(c,function(a){a.shift(f)})}return c},end:function(a){!d.isUndefined(a)&&this._end!==a&&(this.parent._updateSource(a,this._positions.end,this._positions.end+this._end.length),this._end=a);return this._end},fullRange:function(a){a=this.range(a);a.start-=this.styleBefore.length;return a},toString:function(){return this.name()+
this.styleSeparator+this.value()+this.end()}});return{parse:function(a,c){return new k(a,c)},parseFromPosition:function(a,c,b){b=this.extractRule(a,c,b);return!b||!b.inside(c)?null:this.parse(b.substring(a),{offset:b.start})},extractRule:function(a,c,b){for(var d="",f=a.length,g=-1,e;0<=c;){e=a.charAt(c);if("{"==e){g=c;break}else if("}"==e&&!b){c++;break}c--}for(;c<f;){e=a.charAt(c);if("{"==e)g=c;else if("}"==e){-1!=g&&(d=a.substring(g,c+1));break}c++}if(d){c=g-1;for(b="";0<=c;){e=a.charAt(c);if(-1!=
"{}/\\<>\n\r".indexOf(e))break;c--}b=a.substring(c+1,g).replace(/^[\s\n\r]+/m,"");return i("range").create(g-b.length,d.length+b.length)}return null},baseName:function(a){return a.replace(/^\s*\-\w+\-/,"")},findParts:b}});
emmet.define("xmlEditTree",function(i,d){var h={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},e=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,a=i("editTree").EditContainer.extend({initialize:function(a){d.defaults(this.options,h);this._positions.name=1;var g=null,f=i("xmlParser").parse(a),e=i("range");d.each(f,function(d){d.value=e.create(d).substring(a);switch(d.type){case "tag":/^<[^\/]+/.test(d.value)&&(this._name=d.value.substring(1));
break;case "attribute":g&&this._children.push(new b(this,g));g=d;break;case "string":this._children.push(new b(this,g,d)),g=null}},this);g&&this._children.push(new b(this,g));this._saveStyle()},_saveStyle:function(){var a=this.nameRange().end,b=this.source;d.each(this.list(),function(d){d.styleBefore=b.substring(a,d.namePosition());-1!==d.valuePosition()&&(d.styleSeparator=b.substring(d.namePosition()+d.name().length,d.valuePosition()-d.styleQuote.length));a=d.range().end})},add:function(a,g,f){var e=
this.list(),h=this.nameRange().end,m=i("editTree"),n=d.pick(this.options,"styleBefore","styleSeparator","styleQuote");d.isUndefined(f)&&(f=e.length);var p=e[f];if(p)h=p.fullRange().start;else if(p=e[f-1])h=p.range().end;p&&(n=d.pick(p,"styleBefore","styleSeparator","styleQuote"));g=n.styleQuote+g+n.styleQuote;a=new b(this,m.createToken(h+n.styleBefore.length,a),m.createToken(h+n.styleBefore.length+a.length+n.styleSeparator.length,g));d.extend(a,n);this._updateSource(a.styleBefore+a.toString(),h);
this._children.splice(f,0,a);return a}}),b=i("editTree").EditElement.extend({initialize:function(a,b,d){this.styleBefore=a.options.styleBefore;this.styleSeparator=a.options.styleSeparator;b="";a=a.options.styleQuote;d&&(b=d.value,a=b.charAt(0),'"'==a||"'"==a?b=b.substring(1):a="",a&&b.charAt(b.length-1)==a&&(b=b.substring(0,b.length-1)));this.styleQuote=a;this._value=b;this._positions.value=d?d.start+a.length:-1},fullRange:function(a){a=this.range(a);a.start-=this.styleBefore.length;return a},toString:function(){return this.name()+
this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(b,d){return new a(b,d)},parseFromPosition:function(a,b,d){d=this.extractTag(a,b,d);return!d||!d.inside(b)?null:this.parse(d.substring(a),{offset:d.start})},extractTag:function(a,b,d){var h=a.length,l,m=i("range"),n=Math.min(2E3,h),p=null,r=function(b){var d;if("<"==a.charAt(b)&&(d=a.substr(b,n).match(e)))return m.create(b,d[0])};for(l=b;0<=l&&!(p=r(l));l--);if(p&&(p.inside(b)||d))return p;if(!p&&d)return null;
for(l=b;l<h;l++)if(p=r(l))return p}}});
emmet.define("expandAbbreviation",function(i,d){var h=i("handlerList").create(),e=null,a=i("actions");a.add("expand_abbreviation",function(a,c,e){var f=d.toArray(arguments),k=i("editorUtils").outputInfo(a,c,e);f[1]=k.syntax;f[2]=k.profile;return h.exec(!1,f)});a.add("expand_abbreviation_with_tab",function(b,c,d){a.run("expand_abbreviation",b,c,d)||b.replaceContent(i("resources").getVariable("indentation"),b.getCaretPos())},{hidden:!0});h.add(function(a,c,d){var f=a.getSelectionRange().end,h=e.findAbbreviation(a);
return h&&(c=emmet.expandAbbreviation(h,c,d,i("actionUtils").captureContext(a)))?(a.replaceContent(c,f-h.length,f),!0):!1},{order:-1});return e={addHandler:function(a,c){h.add(a,c)},removeHandler:function(a){h.remove(a,options)},findAbbreviation:function(a){var c=i("range").create(a.getSelectionRange()),d=String(a.getContent());if(c.length())return c.substring(d);a=a.getCurrentLineRange();return i("actionUtils").extractAbbreviation(d.substring(a.start,c.start))}}});
emmet.define("wrapWithAbbreviation",function(i){var d=null;i("actions").add("wrap_with_abbreviation",function(h,e,a,b){var b=i("editorUtils").outputInfo(h,a,b),c=i("utils"),g=i("editorUtils"),f=i("html_matcher"),e=e||h.prompt("Enter abbreviation");if(!e)return null;var e=String(e),k=h.getSelectionRange(),a=k.start,k=k.end;if(a==k){k=f(b.content,a,b.profile);if(!k||-1==k[0])return!1;k=c.narrowToNonSpace(b.content,k[0],k[1]-k[0]);a=k.start;k=k.end}c=c.escapeText(b.content.substring(a,k));return(e=d.wrap(e,
g.unindent(h,c),b.syntax,b.profile,i("actionUtils").captureContext(h)))?(h.replaceContent(e,a,k),!0):!1});return d={wrap:function(d,e,a,b,c){var g=i("filters"),f=i("utils"),a=a||emmet.defaultSyntax(),b=b||emmet.defaultProfile();i("tabStops").resetTabstopIndex();d=g.extractFromAbbreviation(d);return(e=i("abbreviationParser").parse(d[0],{syntax:a,pastedContent:e,contextNode:c}))?(a=g.composeList(a,b,d[1]),g.apply(e,a,b),f.replaceVariables(e.toString())):null}}});
emmet.exec(function(i,d){function h(d,a,b,c){var g=i("editorUtils"),f=g.outputInfo(d).content,h=d.getCaretPos(),l=null,l=i("utils"),m;m=h;for(var n=-1,p=-1;m--;)if(f.substr(m,a.length)==a){n=m;break}if(-1!=n){m=n;for(var r=f.length;r>=m++;)if(f.substr(m,b.length)==b){p=m+b.length;break}}(m=-1!=n&&-1!=p?i("range").create(n,p-n):null)&&m.overlap(c)?(c=m,l=c.substring(f).replace(RegExp("^"+l.escapeForRegexp(a)+"\\s*"),function(a){h-=a.length;return""}).replace(RegExp("\\s*"+l.escapeForRegexp(b)+"$"),
"")):(l=a+" "+c.substring(f).replace(RegExp(l.escapeForRegexp(a)+"\\s*|\\s*"+l.escapeForRegexp(b),"g"),"")+" "+b,h+=a.length+1);return null!==l?(d.setCaretPos(c.start),d.replaceContent(g.unindent(d,l),c.start,c.end),d.setCaretPos(h),!0):!1}i("actions").add("toggle_comment",function(e){var a=i("editorUtils").outputInfo(e);if("css"==a.syntax){var b=e.getCaretPos(),c=i("html_matcher").getTags(a.content,b);c&&(c[0]&&"tag"==c[0].type&&c[0].start<=b&&c[0].end>=b)&&(a.syntax="html")}if("css"==a.syntax){b=
i("range").create(e.getSelectionRange());a=i("editorUtils").outputInfo(e);if(!b.length()){var g=i("cssEditTree").parseFromPosition(a.content,e.getCaretPos());if(g)var f=e.getCaretPos()-(g.options.offset||0),k=/^[\s\n\r]/,b=(b=d.find(g.list(),function(a){return a.range().end===f?k.test(g.source.charAt(f)):a.range().inside(f)}))?b.range(!0):i("range").create(g.nameRange(!0).start,g.source)}b.length()||(b=i("range").create(e.getCurrentLineRange()),i("utils").narrowToNonSpace(a.content,b));return h(e,
"/*","*/",b)}a=i("range").create(e.getSelectionRange());b=i("editorUtils").outputInfo(e);if(!a.length()&&(b=i("html_matcher").getTags(b.content,e.getCaretPos(),b.profile))&&b[0])a.start=b[0].start,a.end=b[1]?b[1].end:b[0].end;return h(e,"<\!--","--\>",a)})});
emmet.exec(function(i){function d(d,e,a){function b(a){for(var b=a;0<=b;){var d=c.charAt(b);if("\n"==d||"\r"==d)break;b--}return c.substring(b,a)}for(var e=e||1,a=d.getCaretPos()+(a||0),c=String(d.getContent()),d=c.length,g=-1,f=/^\s+$/;a<=d&&0<=a;){var a=a+e,i=c.charAt(a),l=c.charAt(a+1),m=c.charAt(a-1);switch(i){case '"':case "'":l==i&&"="==m&&(g=a+1);break;case ">":"<"==l&&(g=a+1);break;case "\n":case "\r":f.test(b(a-1))&&(g=a)}if(-1!=g)break}return g}i=i("actions");i.add("prev_edit_point",function(h){var e=
h.getCaretPos(),a=d(h,-1);a==e&&(a=d(h,-1,-2));return-1!=a?(h.setCaretPos(a),!0):!1},{label:"Previous Edit Point"});i.add("next_edit_point",function(h){var e=d(h,1);-1!=e&&h.setCaretPos(e)})});
emmet.exec(function(i,d){function h(a,b,c,d){var e=i("range"),f=i("editorUtils").outputInfo(a).content,g=f.length,h,j=e.create(-1,0),k=e.create(a.getSelectionRange());h=k.start;for(var m=1E5;0<=h&&h<g&&0<--m;){if(e=c(f,h,b)){if(j.equal(e))break;j=e.clone();if(h=d(e.substring(f),e.start,k.clone()))return a.createSelection(h.start,h.end),!0;h=b?e.start:e.end-1}h+=b?-1:1}return!1}function e(a,b){var b=b||0,c=[],d=i("stringStream").create(a),e=i("range");d.eatSpace();d.start=d.pos;for(var f;f=d.next();)/[\s\u00a0]/.test(f)&&
(c.push(e.create(d.start+b,d.pos-d.start-1)),d.eatSpace(),d.start=d.pos);c.push(e.create(d.start+b,d.pos-d.start));return c}function a(a,b,f,g){var h=i("xmlParser").parse(a),s=b,s=s||0,k=i("range"),m=[],j=-1,l="",n="",u,y;d.each(h,function(b){switch(b.type){case "tag":y=a.substring(b.start,b.end);/^<[\w\:\-]/.test(y)&&m.push(k.create({start:b.start+1,end:b.end}));break;case "attribute":j=b.start;l=a.substring(b.start,b.end);break;case "string":m.push(k.create(j,b.end-j)),u=k.create(b),n=u.substring(a),
c(n.charAt(0))&&u.start++,c(n.charAt(n.length-1))&&u.end--,m.push(u),"class"==l&&(m=m.concat(e(u.substring(a),u.start)))}});d.each(m,function(a){a.shift(s)});b=d.chain(m).filter(function(a){return!!a.length()}).uniq(!1,function(a){return a.toString()}).value();g&&b.reverse();return(h=d.find(b,function(a){return a.equal(f)}))?(g=d.indexOf(b,h),g<b.length-1?b[g+1]:null):g?d.find(b,function(a){return a.start<f.start}):!h&&(g=d.filter(b,function(a){return a.inside(f.end)}),1<g.length)?g[1]:d.find(b,function(a){return a.end>
f.end})}function b(a,b){var c;if("<"==a.charAt(b)&&(c=a.substring(b,a.length).match(m)))return i("range").create(b,c[0])}function c(a){return'"'==a||"'"==a}function g(a){var b=a.valueRange(!0),c=[a.range(!0),b],e=i("stringStream"),f=i("cssEditTree"),g=i("range"),h=a.value();d.each(a.valueParts(),function(a){var i=a.clone();c.push(i.shift(b.start));var k=e.create(a.substring(h));if(k.match(/^[\w\-]+\(/,!0)){k.start=k.pos;k.skipToPair("(",")");var m=k.current();c.push(g.create(i.start+k.start,m));d.each(f.findParts(m),
function(a){c.push(g.create(i.start+k.start+a.start,a.substring(m)))})}});return d.chain(c).filter(function(a){return!!a.length()}).uniq(!1,function(a){return a.toString()}).value()}function f(a,b,c){var e=null,f=null,h=a.list(),i,k;c?(h.reverse(),i=function(a){return a.range(!0).start<=b.start},k=function(a){return a.start<b.start}):(i=function(a){return a.range(!0).end>=b.end},k=function(a){return a.end>b.start});for(;e=d.find(h,i);){a=g(e);c&&a.reverse();if(f=d.find(a,function(a){return a.equal(b)})){if(f=
d.indexOf(a,f),f!=a.length-1){f=a[f+1];break}}else{f=d.filter(a,function(a){return a.inside(b.end)});if(1<f.length){f=f[1];break}if(f=d.find(a,k))break}f=null;b.start=b.end=c?e.range(!0).start-1:e.range(!0).end+1}return f}function k(a,b,c){a=i("cssEditTree").parse(a,{offset:b});b=a.nameRange(!0);return c.end<b.end?b:f(a,c,!1)}function l(a,b,c){b=i("cssEditTree").parse(a,{offset:b});a=f(b,c,!0);return!a&&(b=b.nameRange(!0),c.start>b.start)?b:a}var m=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,
n=i("actions");n.add("select_next_item",function(c){if("css"==c.getSyntax())return h(c,!1,i("cssEditTree").extractRule,k);var d=!0;return h(c,!1,function(a,c){if(d){d=!1;var e;a:{e=c;for(var f;0<=e;){if(f=b(a,e)){e=f;break a}e--}e=null}return e}return b(a,c)},function(b,c,d){return a(b,c,d,!1)})});n.add("select_previous_item",function(c){return"css"==c.getSyntax()?h(c,!0,i("cssEditTree").extractRule,l):h(c,!0,b,function(b,c,d){return a(b,c,d,!0)})})});
emmet.exec(function(i){function d(a,b,c){var b=String((b||"out").toLowerCase()),d=i("editorUtils").outputInfo(a,c),c=d.syntax,f=i("range"),h=f.create(a.getSelectionRange()),d=d.content,l=null,l=e.last_match.opening_tag,m=e.last_match.closing_tag;if("in"==b&&l&&h.length())if(m)l.start==h.start?"<"==d.charAt(l.end)?(b=f.create(e.find(d,l.end+1,c)),l=b.start==l.end&&b.end==m.start?f.create(e(d,l.end+1,c)):f.create(l.end,m.start-l.end)):l=f.create(l.end,m.start-l.end):(b=d.substring(0,m.start).indexOf("<",
l.end),l=f.create(e(d,-1!=b?b+1:l.end,c)));else return!1;else l=f.create(e(d,h.end,c));return l&&-1!=l.start?(a.createSelection(l.start,l.end),!0):!1}var h=i("actions"),e=i("html_matcher");h.add("match_pair",d,{hidden:!0});h.add("match_pair_inward",function(a){return d(a,"in")},{label:"HTML/Match Pair Tag (inward)"});h.add("match_pair_outward",function(a){return d(a,"out")},{label:"HTML/Match Pair Tag (outward)"});h.add("matching_pair",function(a){var b=String(a.getContent()),c=a.getCaretPos();"<"==
b.charAt(c)&&c++;var d=e.getTags(b,c,String(a.getProfileName()));if(d&&d[0]&&(b=d[0],d=d[1])){if(b.start<=c&&b.end>=c)return a.setCaretPos(d.start),!0;if(d.start<=c&&d.end>=c)return a.setCaretPos(b.start),!0}return!1},{label:"HTML/Go To Matching Tag Pair"})});
emmet.exec(function(i){i("actions").add("remove_tag",function(d){var h=i("utils"),e=i("editorUtils").outputInfo(d),a=i("html_matcher").getTags(e.content,d.getCaretPos(),e.profile);if(a&&a[0]){if(a[1]){var b=h.narrowToNonSpace(e.content,a[0].end,a[1].start-a[0].end),c=h.findNewlineBounds(e.content,b.start),c=h.getLinePadding(c.substring(e.content)),e=b.substring(e.content),e=h.unindentString(e,c);d.replaceContent(h.getCaretPlaceholder()+h.escapeText(e),a[0].start,a[1].end)}else d.replaceContent(h.getCaretPlaceholder(),
a[0].start,a[0].end);return!0}return!1},{label:"HTML/Remove Tag"})});
emmet.exec(function(i){i("actions").add("split_join_tag",function(d,h){var e=i("html_matcher"),a=i("editorUtils").outputInfo(d,null,h),b=i("profile").get(a.profile);if((e=e.getTags(a.content,d.getCaretPos(),a.profile))&&e[0]){if(e[1]){a=i("utils");b=e[0].full_tag.replace(/\s*>$/,(!0===b.self_closing_tag?"/":" /")+">");if(b.length+e[0].start<d.getCaretPos())b+=a.getCaretPlaceholder();else var c=d.getCaretPos()-e[0].start,b=a.replaceSubstring(b,a.getCaretPlaceholder(),c);d.replaceContent(b,e[0].start,
e[1].end);return!0}var g=i("utils"),a=g.getNewline(),c=i("resources").getVariable("indentation"),g=g.getCaretPlaceholder(),b=!0===b.tag_nl?a+c+g+a:g,b=e[0].full_tag.replace(/\s*\/>$/,">")+b+"</"+e[0].name+">";d.replaceContent(b,e[0].start,e[0].end);return!0}return!1},{label:"HTML/Split\\Join Tag Declaration"})});
emmet.define("reflectCSSValue",function(i,d){function h(a){var b=i("cssEditTree"),c=i("editorUtils").outputInfo(a),a=a.getCaretPos();if(b=b.parseFromPosition(c.content,a))if(c=b.itemFromPosition(a,!0)){var d=b.source,f=b.options.offset,a=a-f-c.range().start;e.exec(!1,[c]);if(d!==b.source)return{data:b.source,start:f,end:f+d.length,caret:f+c.range().start+a}}}var e=i("handlerList").create();i("actions").add("reflect_css_value",function(a){return"css"!=a.getSyntax()?!1:i("actionUtils").compoundUpdate(a,
h(a))},{label:"CSS/Reflect Value"});e.add(function(a){var b,c=a.name(),c=i("cssEditTree").baseName(c),e;b="opacity"==c||"filter"==c?/^(?:\-\w+\-)?(?:opacity|filter)$/:(e=c.match(/^border-radius-(top|bottom)(left|right)/))?RegExp("^(?:\\-\\w+\\-)?(?:"+c+"|border-"+e[1]+"-"+e[2]+"-radius)$"):(e=c.match(/^border-(top|bottom)-(left|right)-radius/))?RegExp("^(?:\\-\\w+\\-)?(?:"+c+"|border-radius-"+e[1]+e[2]+")$"):RegExp("^(?:\\-\\w+\\-)?"+c+"$");d.each(a.parent.list(),function(c){if(b.test(c.name())){var d;
var e=a.name(),g=a.value(),h=c.name();d=c.value();var p=i("cssEditTree"),r=i("utils"),e=p.baseName(e),h=p.baseName(h);d="opacity"==e&&"filter"==h?d.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(g))):"filter"==e&&"opacity"==h?(e=g.match(/opacity=([^)]*)/i))?r.prettifyNumber(parseInt(e[1])/100):d:g;c.value(d)}})},{order:-1});return{addHandler:function(a,b){e.add(a,b)},removeHandler:function(a){e.remove(a,options)}}});
emmet.exec(function(i){i("actions").add("evaluate_math_expression",function(d){var h=i("actionUtils"),e=i("utils"),a=String(d.getContent()),b=i("range").create(d.getSelectionRange());b.length()||(b=h.findExpressionBounds(d,function(a){return e.isNumeric(a)||-1!=".+-*/\\".indexOf(a)}));if(b&&b.length()){h=b.substring(a);h=h.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var c=e.prettifyNumber((new Function("return "+h))());d.replaceContent(c,b.start,b.end);d.setCaretPos(b.start+c.length);
return!0}catch(g){}}return!1},{label:"Numbers/Evaluate Math Expression"})});
emmet.exec(function(i,d){function h(a){a=a.replace(/^\-/,"");return~a.indexOf(".")?a.split(".")[0].length:a.length}var e=i("actions");d.each([1,-1,10,-10,0.1,-0.1],function(a){var b=0<a?"increment":"decrement";e.add(b+"_number_by_"+String(Math.abs(a)).replace(".","").substring(0,2),function(b){a:{var e=i("utils"),f=!1,k=!1,l=i("actionUtils").findExpressionBounds(b,function(a,b,c){return e.isNumeric(a)?!0:"."==a?!e.isNumeric(c.charAt(b+1))?!1:k?!1:k=!0:"-"==a?f?!1:f=!0:!1});if(l&&l.length()){var m=
l.substring(String(b.getContent())),n=parseFloat(m);if(!d.isNaN(n)){n=e.prettifyNumber(n+a);if(/^(\-?)0+[1-9]/.test(m)){var p="";RegExp.$1&&(p="-",n=n.substring(1));n=n.split(".");n[0]=e.zeroPadString(n[0],h(m));n=p+n.join(".")}b.replaceContent(n,l.start,l.end);b.createSelection(l.start,l.start+n.length);b=!0;break a}}b=!1}return b},{label:"Numbers/"+b.charAt(0).toUpperCase()+b.substring(1)+" number by "+Math.abs(a)})})});
emmet.exec(function(i,d){var h=i("actions"),e=i("preferences");e.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference\u2019s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when \u201cInsert formatted linebreak\u201d action will be performed in CSS file). If you\u2019re such user, you may want to write put a value like <code>\\n\\t</code> in this preference.");
h.add("insert_formatted_line_break_only",function(a){var b=i("utils"),c=i("resources"),g=i("editorUtils").outputInfo(a),f=a.getCaretPos(),h=b.getNewline();if(d.include(["html","xml","xsl"],g.syntax)){if(c=c.getVariable("indentation"),g=i("html_matcher").getTags(g.content,f,g.profile),g[0]&&g[1]&&"tag"==g[0].type&&g[0].end==f&&g[1].start==f)return a.replaceContent(h+c+b.getCaretPlaceholder()+h,f),!0}else if("css"==g.syntax&&(g=g.content,f&&"{"==g.charAt(f-1))){var l=e.get("css.closeBraceIndentation"),
c=c.getVariable("indentation"),m="}"==g.charAt(f);if(!m)for(var n=f,p=g.length,r;n<p;n++){r=g.charAt(n);if("{"==r)break;if("}"==r){l="";m=!0;break}}m||(l+="}");b=h+c+b.getCaretPlaceholder()+l;a.replaceContent(b,f);return!0}return!1},{hidden:!0});h.add("insert_formatted_line_break",function(a){if(!h.run("insert_formatted_line_break_only",a)){for(var b=i("utils"),c=i("editorUtils").getCurrentLinePadding(a),d=String(a.getContent()),e=a.getCaretPos(),k=d.length,b=b.getNewline(),l="",m=a.getCurrentLineRange().end+
1,n;m<k;m++)if(n=d.charAt(m)," "==n||"\t"==n)l+=n;else break;l.length>c.length?a.replaceContent(b+l,e,e,!0):a.replaceContent(b,e)}return!0},{hidden:!0})});
emmet.exec(function(i){i("actions").add("merge_lines",function(d){var h=i("html_matcher"),e=i("utils"),a=i("editorUtils").outputInfo(d),b=i("range").create(d.getSelectionRange());if(!b.length()&&(h=h(a.content,d.getCaretPos(),a.profile)))b.start=h[0],b.end=h[1];if(b.length()){a=b.substring(a.content);e=e.splitByLines(a);for(a=1;a<e.length;a++)e[a]=e[a].replace(/^\s+/,"");a=e.join("").replace(/\s{2,}/," ");d.replaceContent(a,b.start,b.end);d.createSelection(b.start,b.start+a.length);return!0}return!1})});
emmet.exec(function(i){function d(d,e,a){a=a||0;return e.charAt(a)==d.charAt(0)&&e.substr(a,d.length)==d}i("actions").add("encode_decode_data_url",function(h){var e=String(h.getSelection()),a=h.getCaretPos();if(!e)for(var b=String(h.getContent());0<=a--;)if(d("src=",b,a)){if(b=b.substr(a).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))e=b[3],a+=b[1].length;break}else if(d("url(",b,a)){if(b=b.substr(a).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))e=b[3],a+=b[1].length;break}if(e){if(d("data:",e)){if(b=String(h.prompt("Enter path to file (absolute or relative)"))){var c=
i("file"),g=c.createPath(h.getFilePath(),b);if(!g)throw"Can't save file";c.save(g,i("base64").decode(e.replace(/^data\:.+?;.+?,/,"")));h.replaceContent("$0"+b,a,a+e.length);h=!0}else h=!1;return h}b=i("file");c=i("actionUtils");g=h.getFilePath();if(null===g)throw"You should save your file before using this action";g=b.locateFile(g,e);if(null===g)throw"Can't find "+e+" file";var f=i("base64").encode(String(b.read(g)));if(!f)throw"Can't encode file content to base64";f="data:"+(c.mimeTypes[String(b.getExt(g))]||
"application/octet-stream")+";base64,"+f;h.replaceContent("$0"+f,a,a+e.length);return!0}return!1},{label:"Encode\\Decode data:URL image"})});
emmet.exec(function(i,d){function h(d,a){var b;if(a){if(/^data:/.test(a))b=i("base64").decode(a.replace(/^data\:.+?;.+?,/,""));else{b=i("file");var c=b.locateFile(d.getFilePath(),a);if(null===c)throw"Can't find "+a+" file";b=String(b.read(c))}return i("actionUtils").getImageSize(b)}}i("actions").add("update_image_size",function(e){var a;if("css"==String(e.getSyntax()))a:{a=e.getCaretPos();var b=i("editorUtils").outputInfo(e);if(b=i("cssEditTree").parseFromPosition(b.content,a,!0)){var c=b.itemFromPosition(a,
!0),g;if(c&&(g=/url\((["']?)(.+?)\1\)/i.exec(c.value()||"")))if(g=h(e,g[2])){c=b.range(!0);b.value("width",g.width+"px");b.value("height",g.height+"px",b.indexOf("width")+1);a=d.extend(c,{data:b.toString(),caret:a});break a}}a=null}else a:{a=e.getCaretPos();b=i("editorUtils").outputInfo(e);if((b=i("xmlEditTree").parseFromPosition(b.content,a,!0))&&"img"==(b.name()||"").toLowerCase())if(g=h(e,b.value("src"))){c=b.range(!0);b.value("width",g.width);b.value("height",g.height,b.indexOf("width")+1);a=
d.extend(c,{data:b.toString(),caret:a});break a}a=null}return i("actionUtils").compoundUpdate(e,a)})});
emmet.define("cssResolver",function(i,d){function h(a){var b=a&&a.charCodeAt(0);return a&&"."==a||47<b&&58>b}function e(a){a=i("utils").trim(a);if(~a.indexOf("/*")||/[\n\r]/.test(a)||!/^[a-z0-9\-]+\s*\:/i.test(a))return!1;a=i("tabStops").processText(a,{replaceCarets:!0,tabstop:function(){return"value"}});return 2==a.split(":").length}function a(a){var b=p.getDict("css.keywordAliases");return a in b?b[a]:a}function b(a,b){var c=n[b];c||(c=d.find(n,function(a){return a.prefix==b}));return c&&c.supports&&
d.include(c.supports,a)}function c(a,b){d.isString(b)&&(b={prefix:b});n[a]=d.extend({},m,b)}function g(a,b){if(b){var c=p.get(b+"."+a);if(!d.isUndefined(c))return c}return p.get("css."+a)}function f(a,b,c){d.isString(a)||(a=a.data);if(!e(a))return a;b&&(a=~a.indexOf(";")?a.split(";").join(" !important;"):a+" !important");b=a.indexOf(":");a=a.substring(0,b).replace(/\s+$/,"")+g("valueSeparator",c)+i("utils").trim(a.substring(b+1));return a.replace(/\s*;\s*$/,g("propertyEnd",c))}function k(a){var b=
p.getArray(a);d.each(p.getArray(a+"Addon"),function(a){"-"==a.charAt(0)?b=d.without(b,a.substr(1)):("+"==a.charAt(0)&&(a=a.substr(1)),b.push(a))});return b}var l=null,m={prefix:"emmet",obsolete:!1,transformName:function(a){return"-"+this.prefix+"-"+a},supports:null},n={},p=i("preferences");p.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations.");p.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations.");
p.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect.");p.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect.");p.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect.");p.define("css.autoInsertVendorPrefixes",
!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don\u2019t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you.");var r=d.template("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),
w=d.template("A comma-separated list of <em>additions</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>.");d.each({webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",
moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",
ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, overflow-x, overflow-y, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, word-wrap, wrap-flow, wrap-margin, wrap-through, writing-mode",
o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"},
function(a,b){p.define("css."+b+"Properties",a,r({vendor:b}));p.define("css."+b+"PropertiesAddon","",w({vendor:b}))});p.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values \u200b\u200bmust not contain units.");p.define("css.intUnit","px","Default unit for integer values");p.define("css.floatUnit","em","Default unit for float values");p.define("css.keywords","auto, inherit","A comma-separated list of valid keywords that can be used in CSS abbreviations.");
p.define("css.keywordAliases","a:auto, i:inherit","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>.");p.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>.");c("w",{prefix:"webkit",supports:k("css.webkitProperties")});c("m",{prefix:"moz",supports:k("css.mozProperties")});c("s",{prefix:"ms",
supports:k("css.msProperties")});c("o",{prefix:"o",supports:k("css.oProperties")});var q=["css","less","sass","scss","stylus"];i("resources").addResolver(function(a,b){return d.include(q,b)&&a.isElement()?l.expandToSnippet(a.abbreviation,b):null});var v=i("expandAbbreviation");v.addHandler(function(a,b,c){if(!d.include(q,b))return!1;var e=a.getSelectionRange().end,f=v.findAbbreviation(a);return f&&(b=emmet.expandAbbreviation(f,b,c))?(f=e-f.length,c=e,";"==a.getContent().charAt(e)&&";"==b.charAt(b.length-
1)&&c++,a.replaceContent(b,f,c),!0):!1});return l={addPrefix:c,supportsPrefix:b,prefixed:function(a,c){return b(a,c)?"-"+c+"-"+a:a},listPrefixes:function(){return d.map(n,function(a){return a.prefix})},getPrefix:function(a){return n[a]},removePrefix:function(a){a in n&&delete n[a]},extractPrefixes:function(a){if("-"!=a.charAt(0))return{property:a,prefixes:null};for(var b=1,c=a.length,d,e=[];b<c;){d=a.charAt(b);if("-"==d){b++;break}if(d in n)e.push(d);else{e.length=0;b=1;break}b++}b==c-1&&(b=1,e.length=
1);return{property:a.substring(b),prefixes:e.length?e:"all"}},findValuesInAbbreviation:function(b,c){for(var c=c||"css",e=0,f=b.length,g="",k;e<f;){k=b.charAt(e);if(h(k)||"-"==k&&h(b.charAt(e+1))){g=b.substring(e);break}e++}k=b.substring(0,b.length-g.length);e=i("resources");for(f=[];~k.indexOf("-")&&!e.findSnippet(c,k);){k=k.split("-");var m=k.pop();if(!d.include(p.getArray("css.keywords"),a(m)))break;f.unshift(m);k=k.join("-")}return f.join("-")+g},parseValues:function(b){for(var c="",e=[],f=0,
g=b.length,i,k;f<g;)if(i=b.charAt(f),"-"==i&&c)e.push(c),c="",f++;else if(c+=i,f++,k=b.charAt(f),"-"!=i&&!h(i)&&(h(k)||"-"==k))d.include(p.getArray("css.keywords"),a(c))&&f++,e.push(c),c="";c&&e.push(c);return d.map(e,a)},extractValues:function(a){var b=this.findValuesInAbbreviation(a);return!b?{property:a,values:null}:{property:a.substring(0,a.length-b.length).replace(/-$/,""),values:this.parseValues(b)}},normalizeValue:function(a,b){var b=(b||"").toLowerCase(),c=p.getArray("css.unitlessProperties");
return a.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(a,e,f){if(!f&&("0"==e||d.include(c,b)))return e;if(!f)return e+p.get(~e.indexOf(".")?"css.floatUnit":"css.intUnit");a=p.getDict("css.unitAliases");return e+(f in a?a[f]:f)})},expand:function(a,c,g){var h,k,g=g||"css",m=i("resources"),r=p.get("css.autoInsertVendorPrefixes"),l;if(l=/^(.+)\!$/.test(a))a=RegExp.$1;var q=m.findSnippet(g,a);if(q&&!r)return f(q,l,g);a=this.extractPrefixes(a);q=this.extractValues(a.property);a=d.extend(a,q);q=m.findSnippet(g,
a.property);if(!q&&~a.property.indexOf(":")){var w=a.property.split(":"),q=w.shift(),q=m.findSnippet(g,q)||q;a.values=this.parseValues(w.join(":"))}q?d.isString(q)||(q=q.data):q=a.property+":${1};";if(!e(q))return q;m=i("utils");q=m.trim(q);-1==q.indexOf(":")?(h=q,k="${1};"):(q=q.split(":"),h=m.trim(q.shift()),k=m.trim(q.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2"));var v=[];!c&&a.values&&(c=d.map(a.values,function(a){return this.normalizeValue(a,h)},this).join(" ")+";");k=c||k;if("all"==
a.prefixes||!a.prefixes&&r){var G=h,c=r&&"all"!=a.prefixes,D=[];d.each(n,function(a,c){b(G,c)&&D.push(c)});!D.length&&!c&&d.each(n,function(a,b){a.obsolete||D.push(b)});c=D}else c=a.prefixes;d.each(c,function(a){a in n&&v.push(f(n[a].transformName(h)+":"+k,l,g))});v.push(f(h+":"+k,l,g));return v},expandToSnippet:function(a,b){var c=this.expand(a,null,b);return d.isArray(c)?c.join("\n"):!d.isString(c)?c.data:String(c)},getSyntaxPreference:g}});
emmet.define("cssGradient",function(i,d){function h(a){return i("utils").trim(a).replace(/\s+/g," ")}function e(a){var a=h(a),b=null,a=a.replace(/^(\w+\(.+?\))\s*/,function(a,c){b=c;return""});b||(a=a.split(" "),b=a[0],a=a[1]||"");var c={color:b};a&&a.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(a,b,d){c.position=b;~b.indexOf(".")?d="":d||(d="%");d&&(c.unit=d)});return c}function a(a){var b=parseFloat(a);if(!d.isNaN(b))switch(b%360){case 0:return"left";case 90:return"bottom";case 180:return"right";
case 240:return"top"}return a}function b(a){var b=p.getArray("css.gradient.prefixes"),b=d.map(b,function(b){return"-"+b+"-"+a});b.push(a);return b}function c(a,b){var c=[],e=i("cssResolver");p.get("css.gradient.fallback")&&~b.toLowerCase().indexOf("background")&&c.push({name:"background-color",value:"${1:"+a.colorStops[0].color+"}"});d.each(p.getArray("css.gradient.prefixes"),function(d){var f=e.prefixed(b,d);if("webkit"==d&&p.get("css.gradient.oldWebkit"))try{c.push({name:f,value:l.oldWebkitLinearGradient(a)})}catch(g){}c.push({name:f,
value:l.toString(a,d)})});return c.sort(function(a,b){return b.name.length-a.name.length})}function g(a){var b=a.value(),c=null;return(a=d.find(a.valueParts(),function(a){return c=l.parse(a.substring(b))}))&&c?{gradient:c,valueRange:a}:null}function f(a,b){var c=null,e=i("cssEditTree").parseFromPosition(a,b,!0);e&&((c=e.itemFromPosition(b,!0))||(c=d.find(e.list(),function(a){return a.range(!0).end==b})));return{rule:e,property:c}}var k=["top","to bottom","0deg"],l=null,m=/\d+deg/i,n=/top|bottom|left|right/i,
p=i("preferences");p.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated.");p.define("css.gradient.oldWebkit",!0,"Generate gradient definition for old Webkit implementations");p.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients.");p.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name.");
p.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers.");i("expandAbbreviation").addHandler(function(a,e,h){h=i("editorUtils").outputInfo(a,e,h);if("css"!=h.syntax)return!1;var k=a.getCaretPos(),m=h.content,h=f(m,k);if(h.property){var n=g(h.property);if(n){var e=h.rule.options.offset||0,B=e+h.rule.toString().length;if(/[\n\r]/.test(h.property.value())){var j=h.property.valueRange(!0).start+
n.valueRange.end,m=i("utils").replaceSubstring(m,";",j),k=f(m,k);k.property&&(n=g(k.property),h=k)}h.property.end(";");var x=h.property,k=n.gradient,t=n.valueRange,u=x.parent,y=i("utils");d.each(u.getAll(b(x.name())),function(a){a!=x&&/gradient/i.test(a.value())&&u.remove(a)});var E=x.value();t||(t=i("range").create(0,x.value()));x.value(function(a){return y.replaceSubstring(E,a,t)}(l.toString(k))+"${2}");n=c(k,x.name());d.each(n,function(a){u.add(a.name,a.value,u.indexOf(x))});a.replaceContent(h.rule.toString(),
e,B,!0);return!0}}if(h=p.get("css.gradient.defaultProperty")){var n=String(a.getContent()),z=i("range").create(a.getCurrentLineRange()),B=z.substring(n).replace(/^\s+/,function(a){z.start+=a.length;return""}).replace(/\s+$/,function(a){z.end-=a.length;return""}),n=i("cssResolver");if(B=l.parse(B)){k=c(B,h);k.push({name:h,value:l.toString(B)+"${2}"});var F=n.getSyntaxPreference("valueSeparator",e),G=n.getSyntaxPreference("propertyEnd",e),k=d.map(k,function(a){return a.name+F+a.value+G});a.replaceContent(k.join("\n"),
z.start,z.end);a=!0}else a=!1}else a=!1;return a});i("reflectCSSValue").addHandler(function(a){var c=i("utils"),e=g(a);if(!e)return!1;var f=a.value(),h=function(a){return c.replaceSubstring(f,a,e.valueRange)};d.each(a.parent.getAll(b(a.name())),function(b){if(b!==a){var c=b.value().match(/^\s*(\-([a-z]+)\-)?linear\-gradient/);c?b.value(h(l.toString(e.gradient,c[2]||""))):b.value().match(/\s*\-webkit\-gradient/)&&b.value(h(l.oldWebkitLinearGradient(e.gradient)))}});return!0});return l={parse:function(a){var b=
null;i("utils").trim(a).replace(/^([\w\-]+)\((.+?)\)$/,function(a,c,f){c=c.toLowerCase().replace(/^\-[a-z]+\-/,"");if("linear-gradient"==c||"lg"==c){for(var a=k[0],f=i("stringStream").create(i("utils").trim(f)),c=[],g;g=f.next();)","==f.peek()?(c.push(f.current()),f.next(),f.eatSpace(),f.start=f.pos):"("==g&&f.skipTo(")");c.push(f.current());c=d.compact(d.map(c,h));if(c.length){if(m.test(c[0])||n.test(c[0]))a=c.shift();b={type:"linear",direction:a,colorStops:d.map(c,e)}}else b=null;return""}return a});
return b},oldWebkitLinearGradient:function(b){d.isString(b)&&(b=this.parse(b));if(!b)return null;var c=d.map(b.colorStops,d.clone);d.each(c,function(a){if("position"in a)if(~a.position.indexOf(".")||"%"==a.unit)a.position=parseFloat(a.position)/("%"==a.unit?100:1);else throw"Can't convert color stop '"+(a.position+(a.unit||""))+"'";});var e=c,f=0;d.each(e,function(a,b){if(!b)return a.position=a.position||0;b==e.length-1&&!("position"in a)&&(a.position=1);if("position"in a){var c=e[f].position||0,
g=(a.position-c)/(b-f);d.each(e.slice(f,b),function(a,b){a.position=c+g*b});f=b}});var c=d.map(c,function(a,b){return!a.position&&!b?"from("+a.color+")":1==a.position&&b==c.length-1?"to("+a.color+")":"color-stop("+a.position.toFixed(2).replace(/\.?0+$/,"")+", "+a.color+")"}),g=b.direction,g=a(g);if(m.test(g))throw"The direction is an angle that can\u2019t be converted.";b=function(a){return~g.indexOf(a)?"100%":"0"};return"-webkit-gradient(linear, "+(b("right")+" "+b("bottom")+", "+b("left")+" "+b("top"))+
", "+c.join(", ")+")"},toString:function(a,b){if("linear"==a.type){var c=(b?"-"+b+"-":"")+"linear-gradient",e=d.map(a.colorStops,function(a){return a.color+("position"in a?" "+a.position+(a.unit||""):"")});a.direction&&(!p.get("css.gradient.omitDefaultDirection")||!d.include(k,a.direction))&&e.unshift(a.direction);return c+"("+e.join(", ")+")"}}}});
emmet.exec(function(i,d){var h=i("handlerList").create(),e=i("resources");d.extend(e,{addGenerator:function(a,b,c){d.isString(a)&&(a=RegExp(a));h.add(function(c,d){var e;return(e=a.exec(c.name()))?b(e,c,d):null},c)}});e.addResolver(function(a,b){return h.exec(null,d.toArray(arguments))})});
emmet.define("tagName",function(i,d){var h={empty:"area base basefont br col frame hr img input isindex link meta param embed keygen command".split(" "),blockLevel:"address applet blockquote button center dd del dir div dl dt fieldset form frameset hr iframe ins isindex li link map menu noframes noscript object ol p pre script table tbody td tfoot th thead tr ul h1 h2 h3 h4 h5 h6".split(" "),inlineLevel:"a abbr acronym applet b basefont bdo big br button cite code del dfn em font i iframe img input ins kbd label map object q s samp select small span strike strong sub sup textarea tt u var".split(" ")},
e={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(a){a=(a||"").toLowerCase();return a in e?this.getMapping(a):this.isInlineLevel(a)?"span":"div"},getMapping:function(a){return e[a.toLowerCase()]},isInlineLevel:function(a){return this.isTypeOf(a,"inlineLevel")},isBlockLevel:function(a){return this.isTypeOf(a,"blockLevel")},isEmptyElement:function(a){return this.isTypeOf(a,
"empty")},isTypeOf:function(a,b){return d.include(h[b],a)},addMapping:function(a,b){e[a]=b},removeMapping:function(a){a in e&&delete e[a]},addElementToCollection:function(a,b){h[b]||(h[b]=[]);var c=this.getCollection(b);d.include(c,a)||c.push(a)},removeElementFromCollection:function(a,b){b in h&&(h[b]=d.without(this.getCollection(b),a))},getCollection:function(a){return h[a]}}});
emmet.exec(function(i,d){function h(){return{element:b.get("bem.elementSeparator"),modifier:b.get("bem.modifierSeparator")}}function e(a,b,c){var d=h(),e=RegExp("^("+d[c]+")+","g");if(e.test(a)){for(var i=0,e=a.replace(e,function(a){i=a.length/d[c].length;return""}),p=b;p.parent&&i--;)p=p.parent;if(!p||!p.__bem)p=b;if(p&&p.__bem)return a=p.__bem.block,"modifier"==c&&p.__bem.element&&(a+=d.element+p.__bem.element),a+d[c]+e}return a}function a(g,f){if(g.name&&!i("abbreviationUtils").isSnippet(g)){g.__bem=
{block:"",element:"",modifier:""};var k=g.attribute("class"),l=i("utils"),k=(" "+(k||"")+" ").replace(/\s+/g," "),m=b.get("bem.shortElementPrefix");m&&(m=RegExp("\\s("+l.escapeForRegexp(m)+"+)","g"),k=k.replace(m,function(a,b){return" "+l.repeatString(h().element,b.length)}));var k=l.trim(k).split(" "),n=/^[a-z]\-/i;g.__bem.block=d.find(k,function(a){return n.test(a)});g.__bem.block||(n=/^[a-z]/i,g.__bem.block=d.find(k,function(a){return n.test(a)})||"");(k=d.chain(k).map(function(a){var b;b=e(a,
g,"element");b=e(b,g,"modifier");var c="",d="",f="",a=h();~b.indexOf(a.element)?(c=b.split(a.element),f=c[1].split(a.modifier),c=c[0],d=f.shift(),f=f.join(a.modifier)):~b.indexOf(a.modifier)&&(f=b.split(a.modifier),c=f.shift(),f=f.join(a.modifier));if(c||d||f){c||(c=g.__bem.block);b=c;var i=[];d&&(b+=a.element+d);i.push(b);f&&i.push(b+a.modifier+f);g.__bem.block=c;g.__bem.element=d;g.__bem.modifier=f;a=i}else a=b;return a}).flatten().uniq().value().join(" "))&&g.attribute("class",k)}var p=i("abbreviationUtils");
d.each(g.children,function(b){a(b,f);!p.isSnippet(b)&&b.start&&(c=!0)});return g}var b=i("preferences");b.define("bem.elementSeparator","__","Class name\u2019s element separator.");b.define("bem.modifierSeparator","_","Class name\u2019s modifier separator.");b.define("bem.shortElementPrefix","-","Symbol for describing short \u201cblock-element\u201d notation. Class names prefixed with this symbol will be treated as element name for parent\u2018s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");
var c=!1;i("filters").add("bem",function(b,d){c=!1;b=a(b,d);c&&(b=i("filters").apply(b,"html",d));return b})});
emmet.exec(function(i,d){function h(a,b,c){var g=i("abbreviationUtils");d.each(a.children,function(a){if(g.isBlock(a)){var k=i("utils"),l=e.get("filter.commentTrigger");if("*"==l||d.find(l.split(","),function(b){return!!a.attribute(k.trim(b))})){var m={node:a,name:a.name(),padding:a.parent?a.parent.padding:"",attr:function(b,c,d){return(b=a.attribute(b))?(c||"")+b+(d||""):""}},l=k.normalizeNewline(b?b(m):""),m=k.normalizeNewline(c?c(m):"");a.start=a.start.replace(/</,l+"<");a.end=a.end.replace(/>/,
">"+m)}}h(a,b,c)});return a}var e=i("preferences");e.define("filter.commentAfter",'\n<\!-- /<%= attr("id", "#") %><%= attr("class", ".") %> --\>',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> \u2013 a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> \u2013 current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> \u2013 name of current tag</li><li><code>padding</code> \u2013 current string padding, can be used for formatting</li></ul>");
e.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property");e.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>");i("filters").add("c",function(a){var b=
d.template(e.get("filter.commentBefore")),c=d.template(e.get("filter.commentAfter"));return h(a,b,c)})});emmet.exec(function(i,d){function h(a){return a.replace(/([<>&])/g,function(a,c){return e[c]})}var e={"<":"&lt;",">":"&gt;","&":"&amp;"};i("filters").add("e",function b(c){d.each(c.children,function(c){c.start=h(c.start);c.end=h(c.end);c.content=h(c.content);b(c)});return c})});
emmet.exec(function(i,d){function h(){return i("resources").getVariable("indentation")}function e(a){return a.parent&&!a.parent.parent&&!a.index()}function a(a,c){var e=i("abbreviationUtils");if(!0===c.tag_nl||e.isBlock(a))return!0;if(!a.parent||!c.inline_break)return!1;var f=0;return!!d.find(a.parent.children,function(a){a.isTextNode()||!e.isInline(a)?f=0:e.isInline(a)&&f++;if(f>=c.inline_break)return!0})}i("filters").add("_format",function c(g,f,k){var k=k||0,l=i("abbreviationUtils");d.each(g.children,
function(d){if(l.isSnippet(d))e(d)||(d.start=i("utils").getNewline()+d.start);else{d.start=d.end="%s";var g=i("utils"),p=i("abbreviationUtils"),r=p.isUnary(d),g=g.getNewline();if(!1!==f.tag_nl){var w=!0===f.tag_nl&&(f.tag_nl_leaf||d.children.length);if(!d.isTextNode()){if(a(d,f)){if(!e(d)&&(!p.isSnippet(d.parent)||d.index()))d.start=g+d.start;if(p.hasBlockChildren(d)||d.children.length&&a(d.children[0],f)||w&&!r)d.end=g+d.end;if(p.hasTagsInContent(d)||w&&!d.children.length&&!r)d.start+=g+h()}else p.isInline(d)&&
d.parent&&i("abbreviationUtils").hasBlockChildren(d.parent)&&!e(d)?d.start=g+d.start:p.isInline(d)&&p.hasBlockChildren(d)&&(d.end=g+d.end);d.padding=h()}}}c(d,f,k+1)});return g})});
emmet.exec(function(i,d){i("filters").add("haml",function e(a,b,c){var c=c||0,g=i("abbreviationUtils");c||(a=i("filters").apply(a,"_format",b));d.each(a.children,function(a){if(!g.isSnippet(a)&&a.parent){var k=i("abbreviationUtils"),l=i("utils"),m,n="",p=[],r=b.attributeQuote(),w=b.cursor();d.each(a.attributeList(),function(a){var c=b.attributeName(a.name);switch(c.toLowerCase()){case "id":n+="#"+(a.value||w);break;case "class":n+="."+i("utils").trim(a.value||w).replace(/\s+/g,".");break;default:p.push(":"+
c+" => "+r+(a.value||w)+r)}});p.length&&(n+="{"+p.join(", ")+"}");m=n;var q=b.cursor(),k=k.isUnary(a),v=b.self_closing_tag&&k?"/":"",s="%"+b.tagName(a.name());"%div"==s.toLowerCase()&&(m&&-1==m.indexOf("{"))&&(s="");a.end="";a.start=l.replaceSubstring(a.start,s+m+v+" ",a.start.indexOf("%s"),"%s");!a.children.length&&!k&&(a.start+=q)}e(a,b,c+1)});return a})});
emmet.exec(function(i,d){i("filters").add("html",function e(a,b,c){var c=c||0,g=i("abbreviationUtils");c||(a=i("filters").apply(a,"_format",b));d.each(a.children,function(a){if(!g.isSnippet(a)&&a.parent){var k=i("abbreviationUtils"),l=i("utils"),m,n=b.attributeQuote(),p=b.cursor();m=d.map(a.attributeList(),function(a){return" "+b.attributeName(a.name)+"="+n+(a.value||p)+n}).join("");var r=b.cursor(),k=k.isUnary(a),w="",q="";if(!a.isTextNode()){var v=b.tagName(a.name());k?(w="<"+v+m+b.selfClosing()+
">",a.end=""):(w="<"+v+m+">",q="</"+v+">")}a.start=l.replaceSubstring(a.start,w,a.start.indexOf("%s"),"%s");a.end=l.replaceSubstring(a.end,q,a.end.indexOf("%s"),"%s");!a.children.length&&(!k&&-1==a.content.indexOf(r))&&(a.start+=r)}e(a,b,c+1)});return a})});
emmet.exec(function(i,d){var h=/^\s+/,e=/[\n\r]/g;i("filters").add("s",function b(c){var g=i("abbreviationUtils");d.each(c.children,function(c){g.isSnippet(c)||(c.start=c.start.replace(h,""),c.end=c.end.replace(h,""));c.start=c.start.replace(e,"");c.end=c.end.replace(e,"");c.content=c.content.replace(e,"");b(c)});return c})});
emmet.exec(function(i,d){function h(e,a){d.each(e.children,function(b){b.content&&(b.content=b.content.replace(a,""));h(b,a)});return e}i("preferences").define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents).");i("filters").add("t",function(d){var a=
RegExp(i("preferences").get("filter.trimRegexp"));return h(d,a)})});emmet.exec(function(i,d){var h={"xsl:variable":1,"xsl:with-param":1};i("filters").add("xsl",function a(b){var c=i("abbreviationUtils");d.each(b.children,function(b){if(!c.isSnippet(b)&&(b.name()||"").toLowerCase()in h&&b.children.length)b.start=b.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"");a(b)});return b})});
emmet.exec(function(i,d){function h(a,b){return Math.round(Math.random()*(b-a)+a)}function e(a,b){for(var c=a.length,e=Math.min(c,b),g=[];g.length<e;){var i=h(0,c-1);d.include(g,i)||g.push(i)}return d.map(g,function(b){return a[b]})}function a(a,b){a.length&&(a[0]=a[0].charAt(0).toUpperCase()+a[0].substring(1));var c=a.join(" "),e;if(!(e=b))e=d.isString("?!...")?"?!...".charAt(h(0,4)):"?!..."[h(0,4)];return c+e}function b(a){var b=a.length,c=0,c=3<b&&6>=b?h(0,1):6<b&&12>=b?h(0,2):h(1,4);d.each(e(d.range(c)),
function(b){a[b]+=","})}i("abbreviationParser").addPreprocessor(function(d){var i=/^(?:lorem|lipsum)(\d*)$/i,l;d.findAll(function(d){if(d._name&&(l=d._name.match(i))){var f=l[1]||30;d._name="";d.data("forceNameResolving",d.isRepeating()||d.attributeList().length);d.data("pasteOverwrites",!0);d.data("paste",function(d){var i=f,k=!d,d=[],l=0,i=parseInt(i,10);k&&(k=c.slice(0,i),5<k.length&&(k[4]+=","),l+=k.length,d.push(a(k,".")));for(;l<i;)k=e(g,Math.min(h(3,12)*h(1,5),i-l)),l+=k.length,b(k),d.push(a(k));
return d.join(" ")})}})});var c="lorem ipsum dolor sit amet consectetur adipisicing elit".split(" "),g="exercitationem perferendis perspiciatis laborum eveniet sunt iure nam nobis eum cum officiis excepturi odio consectetur quasi aut quisquam vel eligendi itaque non odit tempore quaerat dignissimos facilis neque nihil expedita vitae vero ipsum nisi animi cumque pariatur velit modi natus iusto eaque sequi illo sed ex et voluptatibus tempora veritatis ratione assumenda incidunt nostrum placeat aliquid fuga provident praesentium rem necessitatibus suscipit adipisci quidem possimus voluptas debitis sint accusantium unde sapiente voluptate qui aspernatur laudantium soluta amet quo aliquam saepe culpa libero ipsa dicta reiciendis nesciunt doloribus autem impedit minima maiores repudiandae ipsam obcaecati ullam enim totam delectus ducimus quis voluptates dolores molestiae harum dolorem quia voluptatem molestias magni distinctio omnis illum dolorum voluptatum ea quas quam corporis quae blanditiis atque deserunt laboriosam earum consequuntur hic cupiditate quibusdam accusamus ut rerum error minus eius ab ad nemo fugit officia at in id quos reprehenderit numquam iste fugiat sit inventore beatae repellendus magnam recusandae quod explicabo doloremque aperiam consequatur asperiores commodi optio dolor labore temporibus repellat veniam architecto est esse mollitia nulla a similique eos alias dolore tenetur deleniti porro facere maxime corrupti".split(" ")});
emmet.define("bootstrap",function(i,d){function h(d){return(d=/([\w\.\-]+)$/i.exec(d))?d[1]:""}return{loadExtensions:function(e){var a=i("file"),b={};d.each(e,function(c){switch(a.getExt(c)){case "js":try{eval(a.read(c))}catch(d){emmet.log('Unable to eval "'+c+'" file: '+d)}break;case "json":var e=h(c).toLowerCase().replace(/\.json$/,"");b[e]=a.read(c)}});this.loadUserData(b)},loadPreferences:function(d){i("preferences").load(this.parseJSON(d))},loadSnippets:function(d){var d=this.parseJSON(d),a=
i("resources"),b=a.getVocabulary("user")||{};a.setVocabulary(i("utils").deepMerge(b,d),"user")},loadSystemSnippets:function(d){i("resources").setVocabulary(this.parseJSON(d),"system")},resetSnippets:function(){i("resources").setVocabulary({},"user")},loadUserData:function(d){d=this.parseJSON(d);d.snippets&&this.loadSnippets(d.snippets);d.preferences&&this.loadPreferences(d.preferences);d.profiles&&this.loadProfiles(d.profiles);d.syntaxProfiles&&this.loadSyntaxProfiles(d.syntaxProfiles)},resetUserData:function(){this.resetSnippets();
i("preferences").reset();i("profile").reset()},loadSyntaxProfiles:function(e){var e=this.parseJSON(e),a={};d.each(e,function(b,c){c in a||(a[c]={});a[c].profile=b});this.loadSnippets(a)},loadProfiles:function(e){var a=i("profile");d.each(this.parseJSON(e),function(b,c){a.create(c,b)})},parseJSON:function(e){if(d.isObject(e))return e;try{return(new Function("return "+e))()}catch(a){return{}}}}});$.e=function(i,d){return $(emmet.expandAbbreviation(i),d)};